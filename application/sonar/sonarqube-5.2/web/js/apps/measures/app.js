define("underscore",[],function(){return window._}),define("backbone.marionette",[],function(){return window.Marionette}),define("jquery",[],function(){return window.jQuery}),define("backbone",[],function(){return window.Backbone}),this.Templates=this.Templates||{},this.Templates["ajax-select-filter"]=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){return'<div class="navigator-filter-search">\n  <input type="text">\n</div>\n<ul class="navigator-filter-select-list choices"></ul>\n<ul class="navigator-filter-select-list opposite"></ul>\n'},useData:!0}),this.Templates["base-details-filter"]=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){return'<div class="navigator-filter-details-inner"></div>\n'},useData:!0}),this.Templates["base-filter"]=Handlebars.template({1:function(e,t,n,r){return"default"},3:function(e,t,n,r){return'  <div class="navigator-filter-disable">&times;</div>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){var i,s,o="function",u=t.helperMissing,a=this.escapeExpression,f='<div class="navigator-filter-label">'+a((s=(s=t.name||(e!=null?e.name:e))!=null?s:u,typeof s===o?s.call(e,{name:"name",hash:{},data:r}):s))+'</div>\n<div class="navigator-filter-value ';return i=t["if"].call(e,e!=null?e.defaultValue:e,{name:"if",hash:{},fn:this.program(1,r),inverse:this.noop,data:r}),i!=null&&(f+=i),f+='">'+a((s=(s=t.value||(e!=null?e.value:e))!=null?s:u,typeof s===o?s.call(e,{name:"value",hash:{},data:r}):s))+"</div>\n",i=t["if"].call(e,e!=null?e.optional:e,{name:"if",hash:{},fn:this.program(3,r),inverse:this.noop,data:r}),i!=null&&(f+=i),f},useData:!0}),this.Templates["checkbox-filter"]=Handlebars.template({1:function(e,t,n,r){return'  <div class="navigator-filter-disable">&times;</div>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){var i,s,o="function",u=t.helperMissing,a=this.escapeExpression,f='<div class="navigator-filter-label">'+a((s=(s=t.name||(e!=null?e.name:e))!=null?s:u,typeof s===o?s.call(e,{name:"name",hash:{},data:r}):s))+"</div>\n";return i=t["if"].call(e,e!=null?e.optional:e,{name:"if",hash:{},fn:this.program(1,r),inverse:this.noop,data:r}),i!=null&&(f+=i),f},useData:!0}),this.Templates["choice-filter-item"]=Handlebars.template({1:function(e,t,n,r){return"icon-checkbox-checked"},3:function(e,t,n,r){return"icon-checkbox-single"},5:function(e,t,n,r){var i,s="function",o=t.helperMissing,u=this.escapeExpression;return'<i class="icon-'+u((i=(i=t.icon||(e!=null?e.icon:e))!=null?i:o,typeof i===s?i.call(e,{name:"icon",hash:{},data:r}):i))+'"></i>'},7:function(e,t,n,r){var i,s="function",o=t.helperMissing,u=this.escapeExpression;return'      <br>\n      <span>\n        <i class="icon-checkbox icon-checkbox-invisible"></i>\n        <span class="note">'+u((i=(i=t.category||(e!=null?e.category:e))!=null?i:o,typeof i===s?i.call(e,{name:"category",hash:{},data:r}):i))+"</span>\n      </span>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){var i,s,o="function",u=t.helperMissing,a=this.escapeExpression,f='<li>\n  <label title="'+a((s=(s=t.text||(e!=null?e.text:e))!=null?s:u,typeof s===o?s.call(e,{name:"text",hash:{},data:r}):s))+'" data-id="'+a((s=(s=t.id||(e!=null?e.id:e))!=null?s:u,typeof s===o?s.call(e,{name:"id",hash:{},data:r}):s))+'">\n    <span>\n      <i class="icon-checkbox ';return i=t["if"].call(e,e!=null?e.checked:e,{name:"if",hash:{},fn:this.program(1,r),inverse:this.noop,data:r}),i!=null&&(f+=i),f+=" ",i=t.unless.call(e,e!=null?e.multiple:e,{name:"unless",hash:{},fn:this.program(3,r),inverse:this.noop,data:r}),i!=null&&(f+=i),f+='"></i>\n      ',i=t["if"].call(e,e!=null?e.icon:e,{name:"if",hash:{},fn:this.program(5,r),inverse:this.noop,data:r}),i!=null&&(f+=i),f+="\n      "+a((s=(s=t.text||(e!=null?e.text:e))!=null?s:u,typeof s===o?s.call(e,{name:"text",hash:{},data:r}):s))+"\n    </span>\n",i=t["if"].call(e,e!=null?e.category:e,{name:"if",hash:{},fn:this.program(7,r),inverse:this.noop,data:r}),i!=null&&(f+=i),f+"  </label>\n</li>\n"},useData:!0}),this.Templates["choice-filter-template"]=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){return""},useData:!0}),this.Templates["choice-filter"]=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){return'<ul class="navigator-filter-select-list choices"></ul>\n<ul class="navigator-filter-select-list opposite"></ul>\n'},useData:!0}),this.Templates["favorite-details-filter"]=Handlebars.template({1:function(e,t,n,r){var i,s='  <ul class="navigator-filter-select-list">\n';return i=t.each.call(e,e!=null?e.choicesArray:e,{name:"each",hash:{},fn:this.program(2,r),inverse:this.noop,data:r}),i!=null&&(s+=i),s+"  </ul>\n"},2:function(e,t,n,r){var i,s="function",o=t.helperMissing,u=this.escapeExpression;return'      <li>\n        <label data-id="'+u((i=(i=t.k||(e!=null?e.k:e))!=null?i:o,typeof i===s?i.call(e,{name:"k",hash:{},data:r}):i))+'">'+u((i=(i=t.v||(e!=null?e.v:e))!=null?i:o,typeof i===s?i.call(e,{name:"v",hash:{},data:r}):i))+"</label>\n      </li>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){var i,s=t.helperMissing,o=this.escapeExpression,u="";return i=(t.ifNotEmpty||e&&e.ifNotEmpty||s).call(e,e!=null?e.choicesArray:e,{name:"ifNotEmpty",hash:{},fn:this.program(1,r),inverse:this.noop,data:r}),i!=null&&(u+=i),u+'<ul class="navigator-filter-select-list">\n  <li class="manage">\n    <label id="manage-favorites">'+o((t.translate||e&&e.translate||s).call(e,"manage",{name:"translate",hash:{},data:r}))+"</label>\n  </li>\n</ul>\n"},useData:!0}),this.Templates["favorite-filter"]=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){var i=t.helperMissing,s=this.escapeExpression;return'<div class="navigator-filter-favorite-toggle" title="'+s((t.translate||e&&e.translate||i).call(e,"filtersList",{name:"translate",hash:{},data:r}))+'"></div>\n'},useData:!0}),this.Templates["metric-filter"]=Handlebars.template({1:function(e,t,n,r){var i,s,o="function",u=t.helperMissing,a=this.escapeExpression,f='      <optgroup label="'+a((s=(s=t.domain||(e!=null?e.domain:e))!=null?s:u,typeof s===o?s.call(e,{name:"domain",hash:{},data:r}):s))+'">\n';return i=t.each.call(e,e!=null?e.metrics:e,{name:"each",hash:{},fn:this.program(2,r),inverse:this.noop,data:r}),i!=null&&(f+=i),f+"      </optgroup>\n"},2:function(e,t,n,r){var i,s="function",o=t.helperMissing,u=this.escapeExpression;return'          <option value="'+u((i=(i=t.name||(e!=null?e.name:e))!=null?i:o,typeof i===s?i.call(e,{name:"name",hash:{},data:r}):i))+'">'+u((i=(i=t.short_name||(e!=null?e.short_name:e))!=null?i:o,typeof i===s?i.call(e,{name:"short_name",hash:{},data:r}):i))+"</option>\n"},4:function(e,t,n,r){var i=this.lambda,s=this.escapeExpression;return'      <option value="'+s(i(r&&r.key,e))+'">'+s(i(e,e))+"</option>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){var i,s=t.helperMissing,o=this.escapeExpression,u='<div class="navigator-filter-details-inner">\n  <select name="metric">\n    <option></option>\n';return i=t.each.call(e,e!=null?e.groupedMetrics:e,{name:"each",hash:{},fn:this.program(1,r),inverse:this.noop,data:r}),i!=null&&(u+=i),u+='  </select>\n\n  <select name="period">\n    <option value="0">'+o((t.translate||e&&e.translate||s).call(e,"value",{name:"translate",hash:{},data:r}))+"</option>\n",i=t.each.call(e,e!=null?e.periods:e,{name:"each",hash:{},fn:this.program(4,r),inverse:this.noop,data:r}),i!=null&&(u+=i),u+='  </select>\n\n  <select name="op">\n',i=t.each.call(e,e!=null?e.operations:e,{name:"each",hash:{},fn:this.program(4,r),inverse:this.noop,data:r}),i!=null&&(u+=i),u+'  </select>\n\n  <input type="text" name="val">\n</div>\n'},useData:!0}),this.Templates["more-criteria-details-filter"]=Handlebars.template({1:function(e,t,n,r){var i,s,o="function",u=t.helperMissing,a=this.escapeExpression,f='    <li>\n      <label data-id="'+a((s=(s=t.id||(e!=null?e.id:e))!=null?s:u,typeof s===o?s.call(e,{name:"id",hash:{},data:r}):s))+'" data-property="'+a((s=(s=t.property||(e!=null?e.property:e))!=null?s:u,typeof s===o?s.call(e,{name:"property",hash:{},data:r}):s))+'" ';return i=t["if"].call(e,e!=null?e.inactive:e,{name:"if",hash:{},fn:this.program(2,r),inverse:this.noop,data:r}),i!=null&&(f+=i),f+=" ",i=t["if"].call(e,e!=null?e.title:e,{name:"if",hash:{},fn:this.program(4,r),inverse:this.noop,data:r}),i!=null&&(f+=i),f+">\n        "+a((s=(s=t.name||(e!=null?e.name:e))!=null?s:u,typeof s===o?s.call(e,{name:"name",hash:{},data:r}):s))+"\n      </label>\n    </li>\n"},2:function(e,t,n,r){return'class="inactive"'},4:function(e,t,n,r){var i,s="function",o=t.helperMissing,u=this.escapeExpression;return'title="'+u((i=(i=t.title||(e!=null?e.title:e))!=null?i:o,typeof i===s?i.call(e,{name:"title",hash:{},data:r}):i))+'"'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){var i,s='<ul class="navigator-filter-select-list">\n';return i=t.each.call(e,e!=null?e.filters:e,{name:"each",hash:{},fn:this.program(1,r),inverse:this.noop,data:r}),i!=null&&(s+=i),s+"</ul>\n"},useData:!0}),this.Templates["more-criteria-filter"]=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){var i=t.helperMissing,s=this.escapeExpression;return s((t.t||e&&e.t||i).call(e,"moreCriteria",{name:"t",hash:{},data:r}))+"\n"},useData:!0}),this.Templates["range-filter"]=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){var i,s="function",o=t.helperMissing,u=this.escapeExpression;return'<div class="navigator-filter-details-inner">\n  <input class="navigator-filter-range-input" type="text" name="'+u((i=(i=t.propertyFrom||(e!=null?e.propertyFrom:e))!=null?i:o,typeof i===s?i.call(e,{name:"propertyFrom",hash:{},data:r}):i))+'" placeholder="'+u((i=(i=t.placeholder||(e!=null?e.placeholder:e))!=null?i:o,typeof i===s?i.call(e,{name:"placeholder",hash:{},data:r}):i))+'">\n  <label>'+u((t.translate||e&&e.translate||o).call(e,"to",{name:"translate",hash:{},data:r}))+'</label>\n  <input class="navigator-filter-range-input" type="text" name="'+u((i=(i=t.propertyTo||(e!=null?e.propertyTo:e))!=null?i:o,typeof i===s?i.call(e,{name:"propertyTo",hash:{},data:r}):i))+'" placeholder="'+u((i=(i=t.placeholder||(e!=null?e.placeholder:e))!=null?i:o,typeof i===s?i.call(e,{name:"placeholder",hash:{},data:r}):i))+'">\n</div>\n'},useData:!0}),this.Templates["string-filter"]=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){var i,s="function",o=t.helperMissing,u=this.escapeExpression;return'<div class="navigator-filter-details-inner">\n  <input type="text" name="'+u((i=(i=t.property||(e!=null?e.property:e))!=null?i:o,typeof i===s?i.call(e,{name:"property",hash:{},data:r}):i))+'" value="'+u((i=(i=t.value||(e!=null?e.value:e))!=null?i:o,typeof i===s?i.call(e,{name:"value",hash:{},data:r}):i))+'">\n</div>\n'},useData:!0}),define("components/navigator/templates",function(){}),define("components/navigator/filters/base-filters",["exports","module","jquery","underscore","backbone","backbone.marionette","../templates"],function(e,t,n,r,i,s,o){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}var a=u(n),f=u(r),l=u(i),c=u(s),h=l["default"].Model.extend({defaults:{enabled:!0,optional:!1,multiple:!0,placeholder:""}}),p=l["default"].Collection.extend({model:h}),d=c["default"].ItemView.extend({template:Templates["base-details-filter"],className:"navigator-filter-details",initialize:function(){this.$el.on("click",function(e){e.stopPropagation()}),this.$el.attr("id","filter-"+this.model.get("property"))},onShow:function(){},onHide:function(){}}),v=c["default"].ItemView.extend({template:Templates["base-filter"],className:"navigator-filter",events:function(){return{click:"toggleDetails","click .navigator-filter-disable":"disable"}},modelEvents:{"change:enabled":"focus","change:value":"renderBase","change:filters":"render"},initialize:function(t){c["default"].ItemView.prototype.initialize.apply(this,arguments);var n=t&&t.detailsView||d;this.detailsView=new n({model:this.model,filterView:this}),this.model.view=this},attachDetailsView:function(){this.detailsView.$el.detach().appendTo((0,a["default"])("body"))},render:function(){this.renderBase(),this.attachDetailsView(),this.detailsView.render(),this.$el.toggleClass("navigator-filter-disabled",!this.model.get("enabled")),this.$el.toggleClass("navigator-filter-optional",this.model.get("optional"))},renderBase:function(){c["default"].ItemView.prototype.render.apply(this,arguments),this.renderInput();var t=this.model.get("name")+": "+this.renderValue();this.$el.prop("title",t),this.$el.attr("data-property",this.model.get("property"))},renderInput:function(){},focus:function(){this.render()},toggleDetails:function(t){t.stopPropagation(),this.options.filterBarView.selected=this.options.filterBarView.getEnabledFilters().index(this.$el),this.$el.hasClass("active")?(key.setScope("list"),this.hideDetails()):(key.setScope("filters"),this.showDetails())},showDetails:function(){this.registerShowedDetails();var t=this.$el.offset().top+this.$el.outerHeight()-1,n=this.$el.offset().left;this.detailsView.$el.css({top:t,left:n}).addClass("active"),this.$el.addClass("active"),this.detailsView.onShow()},registerShowedDetails:function(){this.options.filterBarView.hideDetails(),this.options.filterBarView.showedView=this},hideDetails:function(){this.detailsView.$el.removeClass("active"),this.$el.removeClass("active"),this.detailsView.onHide()},isActive:function(){return this.$el.is(".active")},renderValue:function(){return this.model.get("value")||"unset"},isDefaultValue:function(){return!0},restoreFromQuery:function(t){var n=f["default"].findWhere(t,{key:this.model.get("property")});n&&n.value?(this.model.set("enabled",!0),this.restore(n.value,n)):this.clear()},restore:function(t){this.model.set({value:t},{silent:!0}),this.renderBase()},clear:function(){this.model.unset("value")},disable:function(t){t.stopPropagation(),this.hideDetails(),this.options.filterBarView.hideDetails(),this.model.set({enabled:!1,value:null})},formatValue:function(){var t={};return this.model.has("property")&&this.model.has("value")&&this.model.get("value")&&(t[this.model.get("property")]=this.model.get("value")),t},serializeData:function(){return f["default"].extend({},this.model.toJSON(),{value:this.renderValue(),defaultValue:this.isDefaultValue()})}});t.exports={Filter:h,Filters:p,BaseFilterView:v,DetailsFilterView:d}}),define("components/navigator/filters/choice-filters",["exports","module","jquery","underscore","backbone","./base-filters","../templates"],function(e,n,r,i,s,o,u){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}var f=a(r),l=a(i),c=a(s),h=a(o),p=h["default"].DetailsFilterView.extend({template:Templates["choice-filter"],itemTemplate:Templates["choice-filter-item"],events:function(){return{"click label":"onCheck"}},render:function(){h["default"].DetailsFilterView.prototype.render.apply(this,arguments),this.updateLists()},renderList:function(t,n){var r=this,i=this.$(n);i.empty().toggleClass("hidden",t.length===0),t.each(function(e){i.append(r.itemTemplate(l["default"].extend(e.toJSON(),{multiple:r.model.get("multiple")&&e.get("id")[0]!=="!"})))})},updateLists:function(){var t=new c["default"].Collection(this.options.filterView.choices.reject(function(e){return e.get("id")[0]==="!"})),n=new c["default"].Collection(this.options.filterView.choices.filter(function(e){return e.get("id")[0]==="!"}));this.renderList(t,".choices"),this.renderList(n,".opposite");var r=this.currentChoice||0;this.updateCurrent(r)},onCheck:function(t){var n=(0,f["default"])(t.currentTarget),r=n.data("id"),i=n.find(".icon-checkbox-checked").length>0;this.model.get("multiple")?n.closest(".opposite").length>0?this.options.filterView.choices.each(function(e){e.set("checked",!1)}):this.options.filterView.choices.filter(function(e){return e.get("id")[0]==="!"}).forEach(function(e){e.set("checked",!1)}):this.options.filterView.choices.each(function(e){e.set("checked",!1)}),this.options.filterView.choices.get(r).set("checked",!i),this.updateValue(),this.updateLists()},updateValue:function(){this.model.set("value",this.options.filterView.getSelected().map(function(e){return e.get("id")}))},updateCurrent:function(t){this.currentChoice=t,this.$("label").removeClass("current").eq(this.currentChoice).addClass("current")},onShow:function(){this.bindedOnKeyDown=l["default"].bind(this.onKeyDown,this),(0,f["default"])("body").on("keydown",this.bindedOnKeyDown)},onHide:function(){(0,f["default"])("body").off("keydown",this.bindedOnKeyDown)},onKeyDown:function(t){switch(t.keyCode){case 38:t.preventDefault(),this.selectPrevChoice();break;case 40:t.preventDefault(),this.selectNextChoice();break;case 13:t.preventDefault(),this.selectCurrent();break;default:}},selectNextChoice:function(){this.$("label").length>this.currentChoice+1&&(this.updateCurrent(this.currentChoice+1),this.scrollNext())},scrollNext:function(){var t=this.$("label").eq(this.currentChoice);if(t.length>0){var n=t.closest("ul"),r=t.offset().top-n.offset().top+n.scrollTop(),i=r-n.height()+t.outerHeight();i>0&&n.scrollTop(i)}},selectPrevChoice:function(){this.currentChoice>0&&(this.updateCurrent(this.currentChoice-1),this.scrollPrev())},scrollPrev:function(){var t=this.$("label").eq(this.currentChoice);if(t.length>0){var n=t.closest("ul"),r=t.offset().top-n.offset().top;r<0&&n.scrollTop(n.scrollTop()+r)}},selectCurrent:function(){var t=this.$("label").eq(this.currentChoice);t.click()},serializeData:function(){return l["default"].extend({},this.model.toJSON(),{choices:(new c["default"].Collection(this.options.filterView.choices.reject(function(e){return e.get("id")[0]==="!"}))).toJSON(),opposite:(new c["default"].Collection(this.options.filterView.choices.filter(function(e){return e.get("id")[0]==="!"}))).toJSON()})}}),d=h["default"].BaseFilterView.extend({initialize:function(t){h["default"].BaseFilterView.prototype.initialize.call(this,{detailsView:t&&t.detailsView?t.detailsView:p});var n=0,r=this.model.get("choiceIcons");this.choices=new c["default"].Collection(l["default"].map(this.model.get("choices"),function(e,t){var i=new c["default"].Model({id:t,text:e,checked:!1,index:n++});return r&&r[t]&&i.set("icon",r[t]),i}),{comparator:"index"})},getSelected:function(){return this.choices.filter(function(e){return e.get("checked")})},renderInput:function(){var t=(0,f["default"])("<select>").prop("name",this.model.get("property")).prop("multiple",!0).css("display","none");this.choices.each(function(e){var n=(0,f["default"])("<option>").prop("value",e.get("id")).prop("selected",e.get("checked")).text(e.get("text"));n.appendTo(t)}),t.appendTo(this.$el)},renderValue:function(){var n=this.getSelected().map(function(e){return e.get("text")}),r=this.model.has("defaultValue")?this.model.get("defaultValue"):this.model.get("multiple")?t("all"):t("any");return this.isDefaultValue()?r:n.join(", ")},isDefaultValue:function(){var t=this.getSelected();return t.length===0},disable:function(){this.choices.each(function(e){e.set("checked",!1)}),h["default"].BaseFilterView.prototype.disable.apply(this,arguments)},restoreFromQuery:function(t){var n=l["default"].findWhere(t,{key:this.model.get("property")});this.choices&&this.choices.forEach(function(e){if(e.get("id")[0]==="!"){var r=l["default"].findWhere(t,{key:e.get("id").substr(1)});if(e.get("id").indexOf("=")>=0){var i=e.get("id").split("=")[0].substr(1),s=e.get("id").split("=")[1];r=l["default"].findWhere(t,{key:i,value:s})}if(r==null)return;n?n.value+=","+e.get("id"):n={value:e.get("id")}}}),n&&n.value?(this.model.set("enabled",!0),this.restore(n.value,n)):this.clear()},restore:function(t){l["default"].isString(t)&&(t=t.split(","));if(this.choices&&t.length>0){var n=this;n.choices.each(function(e){e.set("checked",!1)});var r=[];l["default"].each(t,function(e){var t=n.choices.findWhere({id:e});t?t.set("checked",!0):r.push(e)}),t=l["default"].difference(t,r),this.model.set({value:t,enabled:!0}),this.render()}else this.clear()},clear:function(){this.choices&&this.choices.each(function(e){e.set("checked",!1)}),this.model.unset("value"),this.detailsView.render(),this.detailsView.updateCurrent&&this.detailsView.updateCurrent(0)},formatValue:function(){var t={};if(this.model.has("property")&&this.model.has("value")&&this.model.get("value").length>0){var n=l["default"].filter(this.model.get("value"),function(e){return e[0]==="!"});n.length>0?n.forEach(function(e){if(e.indexOf("=")>=0){var n=e.split("=");t[n[0].substr(1)]=n[1]}else t[e.substr(1)]=!1}):t[this.model.get("property")]=this.model.get("value").join(",")}return t}});n.exports={DetailsChoiceFilterView:p,ChoiceFilterView:d}}),define("components/navigator/filters/more-criteria-filters",["exports","module","jquery","underscore","./choice-filters","../templates"],function(e,t,n,r,i,s){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}var u=o(n),a=o(r),f=o(i),l=f["default"].DetailsChoiceFilterView.extend({template:Templates["more-criteria-details-filter"],events:{"click label[data-id]:not(.inactive)":"enableFilter"},enableById:function(t){this.model.view.options.filterBarView.enableFilter(t),this.model.view.hideDetails()},enableByProperty:function(t){var n=a["default"].find(this.model.get("filters"),function(e){return e.get("property")===t});n&&this.enableById(n.cid)},enableFilter:function(t){var n=(0,u["default"])(t.target).data("id");this.enableById(n),this.updateCurrent(0)},selectCurrent:function(){this.$("label").eq(this.currentChoice).click()},serializeData:function(){var t=this.model.get("filters").map(function(e){return a["default"].extend(e.toJSON(),{id:e.cid})}),n=function(t){return t.name},r=a["default"].unique(t,n),i=a["default"].sortBy(r,n);return a["default"].extend(this.model.toJSON(),{filters:i})}}),c=f["default"].ChoiceFilterView.extend({template:Templates["more-criteria-filter"],className:"navigator-filter navigator-filter-more-criteria",initialize:function(){f["default"].ChoiceFilterView.prototype.initialize.call(this,{detailsView:l})},renderValue:function(){return""},renderInput:function(){},renderBase:function(){f["default"].ChoiceFilterView.prototype.renderBase.call(this),this.$el.prop("title","")},isDefaultValue:function(){return!1}});t.exports={DetailsMoreCriteriaFilterView:l,MoreCriteriaFilterView:c}}),define("components/navigator/filters/favorite-filters",["exports","module","jquery","underscore","./base-filters","./choice-filters","../templates"],function(e,t,n,r,i,s,o){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}var a=u(n),f=u(r),l=u(i),c=u(s),h=l["default"].DetailsFilterView.extend({template:Templates["favorite-details-filter"],events:{"click label[data-id]":"applyFavorite","click .manage label":"manage"},applyFavorite:function(t){var n=(0,a["default"])(t.target).data("id");window.location=baseUrl+this.model.get("favoriteUrl")+"/"+n},manage:function(){window.location=baseUrl+this.model.get("manageUrl")},serializeData:function(){var t=this.model.get("choices"),n=f["default"].sortBy(f["default"].map(t,function(e,t){return{v:e,k:t}}),"v");return f["default"].extend({},this.model.toJSON(),{choicesArray:n})}}),p=c["default"].ChoiceFilterView.extend({template:Templates["favorite-filter"],className:"navigator-filter navigator-filter-favorite",initialize:function(){c["default"].ChoiceFilterView.prototype.initialize.call(this,{detailsView:h})},renderValue:function(){return""},renderInput:function(){},isDefaultValue:function(){return!1}});t.exports={DetailsFavoriteFilterView:h,FavoriteFilterView:p}}),define("components/navigator/filters/filter-bar",["exports","module","jquery","underscore","backbone.marionette","./base-filters","./more-criteria-filters","./favorite-filters"],function(e,t,n,r,i,s,o,u){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}var f=a(n),l=a(r),c=a(i),h=a(s),p=a(o);t.exports=c["default"].CompositeView.extend({childViewContainer:".navigator-filters-list",collectionEvents:{"change:enabled":"changeEnabled"},getChildView:function(t){return t.get("type")||h["default"].BaseFilterView},childViewOptions:function(){return{filterBarView:this,app:this.options.app}},initialize:function(){c["default"].CompositeView.prototype.initialize.apply(this,arguments);var t=this;(0,f["default"])("body").on("click",function(){t.hideDetails()}),this.addMoreCriteriaFilter(),key.filter=function(e){var t=!0,n=(0,f["default"])(e.target),r=n.closest(".navigator-filter-details-inner"),i=r.find(":tabbable"),s=n.is(":input")||n.is("a"),o=n.closest(".ui-dialog").length>0;return s&&(!!o||e.keyCode!==9&&e.keyCode!==27?t=!1:t=i.index(n)>=i.length-1),t},key("tab","list",function(){return key.setScope("filters"),t.selectFirst(),!1}),key("shift+tab","filters",function(){return t.selectPrev(),!1}),key("tab","filters",function(){return t.selectNext(),!1}),key("escape","filters",function(){t.hideDetails(),this.selected=-1,key.setScope("list")})},getEnabledFilters:function(){return this.$(this.childViewContainer).children().not(".navigator-filter-disabled").not(".navigator-filter-inactive").not(".navigator-filter-favorite")},selectFirst:function(){this.selected=-1,this.selectNext()},selectPrev:function(){var t=this.getEnabledFilters();this.selected>0&&(t.eq(this.selected).blur(),this.selected--,t.eq(this.selected).click(),this.$(".navigator-filter-submit").blur())},selectNext:function(){var t=this.getEnabledFilters();this.selected<t.length-1?(t.eq(this.selected).blur(),this.selected++,t.eq(this.selected).click()):(this.selected=t.length,this.hideDetails(),this.$(".navigator-filter-submit").focus())},addMoreCriteriaFilter:function(){var t=this.collection.where({enabled:!1});t.length>0&&(this.moreCriteriaFilter=new h["default"].Filter({type:p["default"].MoreCriteriaFilterView,enabled:!0,optional:!1,filters:t}),this.collection.add(this.moreCriteriaFilter))},onAddChild:function(t){t.model.get("type")===p["default"].FavoriteFilterView&&(0,f["default"])(".navigator-header").addClass("navigator-header-favorite")},restoreFromQuery:function(t){this.collection.each(function(e){e.set("enabled",!e.get("optional")),e.view.clear(),e.view.restoreFromQuery(t)})},hideDetails:function(){l["default"].isObject(this.showedView)&&this.showedView.hideDetails()},enableFilter:function(t){var n=this.collection.get(t),r=n.view;r.$el.detach().insertBefore(this.$(".navigator-filter-more-criteria")),n.set("enabled",!0),r.showDetails()},changeEnabled:function(){var t=l["default"].reject(this.collection.where({enabled:!1}),function(e){return e.get("type")===p["default"].MoreCriteriaFilterView});t.length===0?this.moreCriteriaFilter.set({enabled:!1},{silent:!0}):this.moreCriteriaFilter.set({enabled:!0},{silent:!0}),this.moreCriteriaFilter.set("filters",t)}})}),define("apps/measures/measures-filter-bar",["exports","module","jquery","components/navigator/filters/filter-bar"],function(e,t,n,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}var s=i(n),o=i(r);t.exports=o["default"].extend({template:function(){return(0,s["default"])("#filter-bar-template").html()}})}),define("components/navigator/filters/checkbox-filters",["exports","module","jquery","./base-filters","../templates"],function(e,t,n,r,i){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}var o=s(n),u=s(r);t.exports=u["default"].BaseFilterView.extend({template:Templates["checkbox-filter"],className:"navigator-filter navigator-filter-inline",events:function(){return{"click .navigator-filter-disable":"disable"}},showDetails:function(){},renderInput:function(){this.model.get("enabled")&&(0,o["default"])("<input>").prop("name",this.model.get("property")).prop("type","checkbox").prop("value","true").prop("checked",!0).css("display","none").appendTo(this.$el)},renderValue:function(){return this.model.get("value")},isDefaultValue:function(){return!1},restore:function(t){this.model.set({value:t,enabled:!0})}})}),define("components/navigator/filters/ajax-select-filters",["exports","module","jquery","underscore","backbone","./base-filters","./choice-filters","../templates"],function(e,t,n,r,i,s,o,u){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}var f=a(n),l=a(r),c=a(i),h=a(s),p=a(o),d=100,v=c["default"].Collection.extend({comparator:"text",initialize:function(){this.more=!1,this.page=0},parse:function(t){return this.more=t.more,t.results},fetch:function(t){this.data=l["default"].extend({p:1,ps:d},t.data||{});var n=l["default"].extend({},t,{data:this.data});return c["default"].Collection.prototype.fetch.call(this,n)},fetchNextPage:function(t){if(this.more){this.data.p+=1;var n=l["default"].extend({remove:!1},t,{data:this.data});return this.fetch(n)}return!1}}),m=v.extend({url:function(){return baseUrl+"/api/users/search"},parse:function(t){var n=window.usersToSelect2(t);this.more=n.more,this.results=n.results}}),g=v.extend({url:function(){return baseUrl+"/api/resources/search?f=s2&q=TRK&display_key=true"}}),y=v.extend({url:function(){return baseUrl+"/api/resources/search?f=s2&qp=supportsGlobalDashboards&display_key=true"},parse:function(t){this.more=t.more;if(t.results.length>0&&t.results[0].children){var n=[];return l["default"].each(t.results,function(e){l["default"].each(e.children,function(t){t.category=e.text,n.push(t)})}),n}return t.results}}),b=p["default"].DetailsChoiceFilterView.extend({template:Templates["ajax-select-filter"],listTemplate:Templates["choice-filter-template"],searchKey:"s",render:function(){p["default"].DetailsChoiceFilterView.prototype.render.apply(this,arguments);var t=this,n=function(n){n.keyCode!==37&&n.keyCode!==38&&n.keyCode!==39&&n.keyCode!==40&&t.search()},r=l["default"].debounce(n,250),i=function(){t.scroll()},s=l["default"].throttle(i,1e3);this.$(".navigator-filter-search input").off("keyup keydown").on("keyup",r).on("keydown",this.keydown),this.$(".choices").off("scroll").on("scroll",s)},search:function(){var t=this;this.query=this.$(".navigator-filter-search input").val();if(this.query.length>1){this.$el.addClass("fetching");var n=t.options.filterView.getSelected(),r={ps:d};r[this.searchKey]=this.query,this.options.filterView.choices.fetch({data:r,success:function(){n.forEach(function(e){t.options.filterView.choices.unshift(e)}),l["default"].each(t.model.get("choices"),function(e,n){n[0]==="!"&&t.options.filterView.choices.add(new c["default"].Model({id:n,text:e}))}),t.updateLists(),t.$el.removeClass("fetching"),t.$(".navigator-filter-search").removeClass("fetching-error")},error:function(){t.showSearchError()}})}else this.resetChoices(),this.updateLists()},showSearchError:function(){this.$el.removeClass("fetching"),this.$(".navigator-filter-search").addClass("fetching-error")},scroll:function(){var t=this,n=this.$(".choices"),r=n.scrollTop()>=n[0].scrollHeight-n.outerHeight();r&&this.options.filterView.choices.fetchNextPage().done(function(){t.updateLists()})},keydown:function(t){(0,l["default"])([38,40,13]).indexOf(t.keyCode)!==-1&&t.preventDefault()},resetChoices:function(){var t=this;this.options.filterView.choices.reset(this.options.filterView.choices.filter(function(e){return e.get("checked")})),l["default"].each(this.model.get("choices"),function(e,n){t.options.filterView.choices.add(new c["default"].Model({id:n,text:e}))})},onShow:function(){p["default"].DetailsChoiceFilterView.prototype.onShow.apply(this,arguments),this.resetChoices(),this.render(),this.$(".navigator-filter-search input").focus()}}),w=p["default"].ChoiceFilterView.extend({initialize:function(t){p["default"].ChoiceFilterView.prototype.initialize.call(this,{detailsView:t&&t.detailsView?t.detailsView:b})},isDefaultValue:function(){return this.getSelected().length===0},renderInput:function(){var t=this.model.get("value")||[],n=(0,f["default"])("<input>").prop("name",this.model.get("property")).prop("type","hidden").css("display","none").val(t.join());n.appendTo(this.$el)},restoreFromQuery:function(t){var n=l["default"].findWhere(t,{key:this.model.get("property")});this.model.get("choices")&&l["default"].each(this.model.get("choices"),function(e,r){if(r[0]==="!"){var i=l["default"].findWhere(t,{key:r.substr(1)});if(i==null)return;n?n.value+=","+r:n={value:r}}}),n&&n.value?(this.model.set("enabled",!0),this.restore(n.value,n)):this.clear()},restore:function(t,n){var r=this;l["default"].isString(t)&&(t=t.split(","));if(this.choices&&t.length>0){this.model.set({value:t,enabled:!0});var i=l["default"].filter(t,function(e){return e[0]==="!"});i.forEach(function(e){r.choices.add(new c["default"].Model({id:e,text:r.model.get("choices")[e],checked:!0}))}),t=l["default"].reject(t,function(e){return e[0]==="!"}),l["default"].isArray(n.text)&&n.text.length===t.length?this.restoreFromText(t,n.text):this.restoreByRequests(t)}else this.clear()},restoreFromText:function(t,n){var r=this;l["default"].each(t,function(e,t){r.choices.add(new c["default"].Model({id:e,text:n[t],checked:!0}))}),this.onRestore(t)},restoreByRequests:function(t){var n=this,r=l["default"].map(t,function(e){return n.createRequest(e)});f["default"].when.apply(f["default"],r).done(function(){n.onRestore(t)})},onRestore:function(){this.detailsView.updateLists(),this.renderBase()},clear:function(){this.model.unset("value"),this.choices&&this.choices.reset([]),this.render()},createRequest:function(){}}),E=w.extend({initialize:function(){w.prototype.initialize.call(this,{detailsView:b}),this.choices=new y},createRequest:function(t){var n=this;return f["default"].ajax({url:baseUrl+"/api/resources",type:"GET",data:{resource:t}}).done(function(e){n.selection.add(new c["default"].Model({id:e[0].key,text:e[0].name}))})}}),S=w.extend({initialize:function(){h["default"].BaseFilterView.prototype.initialize.call(this,{detailsView:b}),this.choices=new g},createRequest:function(t){var n=this;return f["default"].ajax({url:baseUrl+"/api/resources",type:"GET",data:{resource:t}}).done(function(e){n.choices.add(new c["default"].Model({id:e[0].key,text:e[0].name,checked:!0}))})}}),x=w.extend({initialize:function(){h["default"].BaseFilterView.prototype.initialize.call(this,{detailsView:b}),this.choices=new m},createRequest:function(t){var n=this;return f["default"].ajax({url:baseUrl+"/api/users/search",type:"GET",data:{q:t}}).done(function(e){n.choices.add(new c["default"].Model({id:e.users[0].login,text:e.users[0].name+" ("+e.users[0].login+")",checked:!0}))})}}),T=w.extend({initialize:function(){h["default"].BaseFilterView.prototype.initialize.call(this,{detailsView:b}),this.selection=new m,this.choices=new m},createRequest:function(t){var n=this;return f["default"].ajax({url:baseUrl+"/api/users/search",type:"GET",data:{q:t}}).done(function(e){n.choices.add(new c["default"].Model({id:e.users[0].login,text:e.users[0].name+" ("+e.users[0].login+")",checked:!0}))})}});t.exports={Suggestions:v,AjaxSelectDetailsFilterView:b,AjaxSelectFilterView:w,ProjectFilterView:S,ComponentFilterView:E,AssigneeFilterView:x,ReporterFilterView:T}}),define("components/navigator/filters/range-filters",["exports","module","jquery","underscore","./base-filters","../templates"],function(e,t,n,r,i,s){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}var u=o(n),a=o(r),f=o(i),l=f["default"].DetailsFilterView.extend({template:Templates["range-filter"],events:{"change input":"change"},change:function(){var t={},n=this.$("input").eq(0).val(),r=this.$("input").eq(1).val();n.length>0&&(t[this.model.get("propertyFrom")]=n),r.length>0&&(t[this.model.get("propertyTo")]=r),this.model.set("value",t)},populateInputs:function(){var t=this.model.get("value"),n=this.model.get("propertyFrom"),r=this.model.get("propertyTo"),i=a["default"].isObject(t)&&t[n],s=a["default"].isObject(t)&&t[r];this.$("input").eq(0).val(i||""),this.$("input").eq(1).val(s||"")},onShow:function(){this.$(":input:first").focus()}}),c=f["default"].BaseFilterView.extend({initialize:function(){f["default"].BaseFilterView.prototype.initialize.call(this,{detailsView:l})},renderValue:function(){if(!this.isDefaultValue()){var t=a["default"].values(this.model.get("value"));return t.join(" — ")}return window.SS.phrases.any},renderInput:function(){var t=this.model.get("value"),n=this.model.get("propertyFrom"),r=this.model.get("propertyTo"),i=a["default"].isObject(t)&&t[n],s=a["default"].isObject(t)&&t[r];(0,u["default"])("<input>").prop("name",n).prop("type","hidden").css("display","none").val(i||"").appendTo(this.$el),(0,u["default"])("<input>").prop("name",r).prop("type","hidden").css("display","none").val(s||"").appendTo(this.$el)},isDefaultValue:function(){var t=this.model.get("value"),n=this.model.get("propertyFrom"),r=this.model.get("propertyTo"),i=a["default"].isObject(t)&&t[n],s=a["default"].isObject(t)&&t[r];return!i&&!s},restoreFromQuery:function(t){var n=a["default"].findWhere(t,{key:this.model.get("propertyFrom")}),r=a["default"].findWhere(t,{key:this.model.get("propertyTo")}),i={};if(n&&n.value||r&&r.value)n&&n.value&&(i[this.model.get("propertyFrom")]=n.value),r&&r.value&&(i[this.model.get("propertyTo")]=r.value),this.model.set({value:i,enabled:!0}),this.detailsView.populateInputs()},restore:function(t){if(this.choices&&this.selection&&t.length>0){var n=this;this.choices.add(this.selection.models),this.selection.reset([]),a["default"].each(t,function(e){var t=n.choices.findWhere({id:e});t&&(n.selection.add(t),n.choices.remove(t))}),this.detailsView.updateLists(),this.model.set({value:t,enabled:!0})}},formatValue:function(){return this.model.get("value")},clear:function(){this.model.unset("value"),this.detailsView.render()}}),h=c.extend({render:function(){c.prototype.render.apply(this,arguments),this.detailsView.$("input").prop("placeholder","1970-01-31").datepicker({dateFormat:"yy-mm-dd",changeMonth:!0,changeYear:!0}).on("change",function(){(0,u["default"])(this).datepicker("setDate",(0,u["default"])(this).val())})},renderValue:function(){if(!this.isDefaultValue()){var t=a["default"].values(this.model.get("value"));return t.join(" — ")}return window.SS.phrases.anytime}});t.exports={RangeFilterView:c,DateRangeFilterView:h}}),define("components/navigator/filters/string-filters",["exports","module","jquery","underscore","./base-filters","../templates"],function(e,t,n,r,i,s){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}var u=o(n),a=o(r),f=o(i),l=f["default"].DetailsFilterView.extend({template:Templates["string-filter"],events:{"change input":"change"},change:function(t){this.model.set("value",(0,u["default"])(t.target).val())},onShow:function(){f["default"].DetailsFilterView.prototype.onShow.apply(this,arguments),this.$(":input").focus()},serializeData:function(){return a["default"].extend({},this.model.toJSON(),{value:this.model.get("value")||""})}});t.exports=f["default"].BaseFilterView.extend({initialize:function(){f["default"].BaseFilterView.prototype.initialize.call(this,{detailsView:l})},renderValue:function(){return this.isDefaultValue()?"—":this.model.get("value")},renderInput:function(){(0,u["default"])("<input>").prop("name",this.model.get("property")).prop("type","hidden").css("display","none").val(this.model.get("value")||"").appendTo(this.$el)},isDefaultValue:function(){return!this.model.get("value")},restore:function(t){this.model.set({value:t,enabled:!0})},clear:function(){this.model.unset("value"),this.detailsView.render()}})}),define("components/navigator/filters/metric-filters",["exports","module","jquery","underscore","./base-filters","../templates"],function(e,t,n,r,i,s){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}var u=o(n),a=o(r),f=o(i),l=f["default"].DetailsFilterView.extend({template:Templates["metric-filter"],events:{"change :input":"inputChanged"},inputChanged:function(){var t=this.$("[name=metric]").val(),n=t.indexOf("new_")===0,r=this.$("[name=period]"),i=r.val(),s=r.children('[value="0"]'),o={metric:t,metricText:this.$("[name=metric] option:selected").text(),period:i,periodText:this.$("[name=period] option:selected").text(),op:this.$("[name=op]").val(),opText:this.$("[name=op] option:selected").text(),val:this.$("[name=val]").val(),valText:this.$("[name=val]").originalVal()};n?(s.remove(),i==="0"&&(i="1")):s.length===0&&r.prepend(this.periodZeroOption),r.select2("destroy").val(i).select2({width:"100%",minimumResultsForSearch:100}),this.updateDataType(o),this.model.set("value",o)},updateDataType:function(t){var n=a["default"].find(window.SS.metrics,function(e){return e.metric.name===t.metric});n&&(this.$("[name=val]").data("type",n.metric.val_type),n.metric.val_type==="WORK_DUR"&&this.$("[name=val]").prop("placeholder","1d 7h 59min"),n.metric.val_type==="RATING"&&this.$("[name=val]").prop("placeholder","A"))},onRender:function(){var t=this.$("[name=period]").children('[value="0"]').html();this.periodZeroOption='<option value="0">'+t+"</option>";var n=this.model.get("value")||{};this.$("[name=metric]").val(n.metric).select2({width:"100%",placeholder:window.SS.phrases.metric}),this.$("[name=period]").val(n.period||0).select2({width:"100%",minimumResultsForSearch:100}),this.$("[name=op]").val(n.op||"eq").select2({width:"60px",placeholder:"=",minimumResultsForSearch:100}),this.updateDataType(n),this.$("[name=val]").val(n.val),this.inputChanged()},onShow:function(){var t=this.$("[name=metric]");this.model.get("value").metric===""?t.select2("open"):t.select2("focus")}});t.exports=f["default"].BaseFilterView.extend({initialize:function(){f["default"].BaseFilterView.prototype.initialize.call(this,{detailsView:l}),this.groupMetrics()},groupMetrics:function(){var t=a["default"].map(this.model.get("metrics"),function(e){return e.metric}),n=a["default"].sortBy(a["default"].map(a["default"].groupBy(t,"domain"),function(e,t){return{domain:t,metrics:a["default"].sortBy(e,"short_name")}}),"domain");this.model.set("groupedMetrics",n)},renderValue:function(){return this.isDefaultValue()?window.SS.phrases.notSet:this.model.get("value").metricText+" "+this.model.get("value").opText+" "+this.model.get("value").valText},renderInput:function(){var t=this,n=this.model.get("value");a["default"].isObject(n)&&n.metric&&n.op&&n.val!=null&&a["default"].each(["metric","period","op","val"],function(e){var r=n[e];e==="period"&&r==="0"&&(r=""),(0,u["default"])("<input>").prop("name",t.model.get("property")+"_"+e).prop("type","hidden").css("display","none").val(r).appendTo(t.$el)})},isDefaultValue:function(){var t=this.model.get("value");return a["default"].isObject(t)?!t.metric||!t.op||t.val==null:!0},restoreFromQuery:function(t){var n=this,r={};a["default"].each(["metric","period","op","val"],function(e){var i=n.model.get("property")+"_"+e,s=a["default"].findWhere(t,{key:i});s&&s.value&&(r[e]=s.value)}),r&&r.metric&&r.op&&r.val!=null&&this.model.set({value:r,enabled:!0})}})}),define("apps/measures/app",["exports","module","underscore","backbone.marionette","./measures-filter-bar","components/navigator/filters/base-filters","components/navigator/filters/checkbox-filters","components/navigator/filters/choice-filters","components/navigator/filters/ajax-select-filters","components/navigator/filters/favorite-filters","components/navigator/filters/range-filters","components/navigator/filters/string-filters","components/navigator/filters/metric-filters"],function(e,t,n,r,i,s,o,u,a,f,l,c,h){"use strict";function p(e){return e&&e.__esModule?e:{"default":e}}var d=p(n),v=p(r),m=p(i),g=p(s),y=p(o),b=p(u),w=p(a),E=p(f),S=p(l),x=p(c),T=p(h),N=new v["default"].Application,C=function(){N.addRegions({filtersRegion:".navigator-filters"}),this.filters=new g["default"].Filters,d["default"].isObject(window.SS.favorites)&&this.filters.add([new g["default"].Filter({type:E["default"].FavoriteFilterView,enabled:!0,optional:!1,choices:window.SS.favorites,favoriteUrl:"/measures/filter",manageUrl:"/measures/manage"})]),this.filters.add([new g["default"].Filter({name:window.SS.phrases.components,property:"qualifiers[]",type:b["default"].ChoiceFilterView,enabled:!0,optional:!1,choices:window.SS.qualifiers,defaultValue:window.SS.phrases.any}),new g["default"].Filter({name:window.SS.phrases.componentsOf,property:"base",type:w["default"].ComponentFilterView,multiple:!1,enabled:!1,optional:!0}),new g["default"].Filter({name:window.SS.phrases.favoritesOnly,property:"onFavourites",type:y["default"],enabled:!1,optional:!0}),new g["default"].Filter({name:window.SS.phrases.date,propertyFrom:"fromDate",propertyTo:"toDate",type:S["default"].DateRangeFilterView,enabled:!1,optional:!0}),new g["default"].Filter({name:window.SS.phrases.keyContains,property:"keySearch",type:x["default"],enabled:!1,optional:!0})]),this.filters.add([new g["default"].Filter({name:window.SS.phrases.lastAnalysis,propertyFrom:"ageMinDays",propertyTo:"ageMaxDays",type:S["default"].RangeFilterView,placeholder:window.SS.phrases.days,enabled:!1,optional:!0}),new g["default"].Filter({name:window.SS.phrases.metric,property:"c3",type:T["default"],metrics:window.SS.metrics,periods:window.SS.metricPeriods,operations:{eq:"=",lt:"<",lte:"≤",gt:">",gte:"≥"},enabled:!1,optional:!0}),new g["default"].Filter({name:window.SS.phrases.metric,property:"c2",type:T["default"],metrics:window.SS.metrics,periods:window.SS.metricPeriods,operations:{eq:"=",lt:"<",lte:"≤",gt:">",gte:"≥"},enabled:!1,optional:!0}),new g["default"].Filter({name:window.SS.phrases.metric,property:"c1",type:T["default"],metrics:window.SS.metrics,periods:window.SS.metricPeriods,operations:{eq:"=",lt:"<",lte:"≤",gt:">",gte:"≥"},enabled:!1,optional:!0}),new g["default"].Filter({name:window.SS.phrases.nameContains,property:"nameSearch",type:x["default"],enabled:!1,optional:!0}),new g["default"].Filter({name:window.SS.phrases.alert,property:"alertLevels[]",type:b["default"].ChoiceFilterView,enabled:!1,optional:!0,choices:{error:window.SS.phrases.error,warn:window.SS.phrases.warning,ok:window.SS.phrases.ok}})]),this.filterBarView=new m["default"]({collection:this.filters,extra:{sort:"",asc:!1}}),this.filtersRegion.show(this.filterBarView),window.queryParams&&N.filterBarView.restoreFromQuery(window.queryParams),key.setScope("list")};N.on("start",function(){C.call(N)}),t.exports=N});