define("jquery",[],function(){return window.jQuery}),define("backbone",[],function(){return window.Backbone}),define("backbone.marionette",[],function(){return window.Marionette}),define("underscore",[],function(){return window._}),define("apps/quality-gates/gate",["exports","module","backbone"],function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var i=r(n);t.exports=i["default"].Model.extend({isDefault:function(){return this.get("isDefault")},url:function(){return baseUrl+"/api/qualitygates"},showUrl:function(){return this.url()+"/show"},deleteUrl:function(){return this.url()+"/destroy"},toggleDefaultUrl:function(){var t=this.isDefault()?"unset_default":"set_as_default";return this.url()+"/"+t},sync:function(t,n,r){var s=r||{};return s.data=s.data||{},s.data.id=n.id,t==="read"&&(s.url=this.showUrl()),t==="delete"&&(s.url=this.deleteUrl(),s.type="POST"),i["default"].ajax(s)},toggleDefault:function(){var t=this,n={type:"POST",url:this.toggleDefaultUrl(),data:{id:this.id}};return i["default"].ajax(n).done(function(){t.collection.toggleDefault(t)})}})}),define("apps/quality-gates/gates",["exports","module","underscore","backbone","./gate"],function(e,t,n,r,i){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}var o=s(n),u=s(r),a=s(i);t.exports=u["default"].Collection.extend({model:a["default"],url:function(){return baseUrl+"/api/qualitygates/list"},parse:function(t){return t.qualitygates.map(function(e){return o["default"].extend(e,{isDefault:e.id===t["default"]})})},comparator:function(t){return t.get("name").toLowerCase()},toggleDefault:function(t){var n=t.isDefault();this.forEach(function(e){e.set({isDefault:t.id===e.id?!n:!1})})}})}),Handlebars.registerPartial("_quality-gate-intro",Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){return'<div class="">\n  <p class="spacer-bottom">Quality Gates are collections of simple boolean thresholds set on project measures. A project\n    must pass each of the thresholds in order to pass the Quality Gate as a whole.</p>\n\n  <p>It is possible to set a default Quality Gate, which will be applied to all projects not explicitly assigned to some\n    other gate.</p>\n</div>\n'},useData:!0})),this.Templates=this.Templates||{},this.Templates["quality-gate-actions"]=Handlebars.template({1:function(e,t,n,r){var i=t.helperMissing,s=this.escapeExpression;return'  <div class="page-actions">\n    <div class="button-group">\n      <button id="quality-gate-add">'+s((t.t||e&&e.t||i).call(e,"create",{name:"t",hash:{},data:r}))+"</button>\n    </div>\n  </div>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){var i,s=t.helperMissing,o=this.escapeExpression,u='<h1 class="page-title">'+o((t.t||e&&e.t||s).call(e,"quality_gates.page",{name:"t",hash:{},data:r}))+"</h1>\n";return i=t["if"].call(e,e!=null?e.canEdit:e,{name:"if",hash:{},fn:this.program(1,r),inverse:this.noop,data:r}),i!=null&&(u+=i),u},useData:!0}),this.Templates["quality-gate-detail-condition"]=Handlebars.template({1:function(e,t,n,r){var i=t.helperMissing,s=this.escapeExpression;return'    <span class="text-danger little-spacer-left">'+s((t.t||e&&e.t||i).call(e,"deprecated",{name:"t",hash:{},data:r}))+"</span>\n"},3:function(e,t,n,r,i){var s,o='    <select class="input-medium" name="period">\n';return s=t.unless.call(e,e!=null?e.isDiffMetric:e,{name:"unless",hash:{},fn:this.program(4,r,i),inverse:this.noop,data:r}),s!=null&&(o+=s),s=t.each.call(e,e!=null?e.periods:e,{name:"each",hash:{},fn:this.program(7,r,i),inverse:this.noop,data:r}),s!=null&&(o+=s),o+"    </select>\n"},4:function(e,t,n,r){var i,s=t.helperMissing,o=this.escapeExpression,u='        <option value="0" ';return i=(t.eq||e&&e.eq||s).call(e,e!=null?e.period:e,0,{name:"eq",hash:{},fn:this.program(5,r),inverse:this.noop,data:r}),i!=null&&(u+=i),u+">"+o((t.t||e&&e.t||s).call(e,"value",{name:"t",hash:{},data:r}))+"</option>\n"},5:function(e,t,n,r){return"selected"},7:function(e,t,n,r,i){var s,o,u="function",a=t.helperMissing,f=this.escapeExpression,l='        <option value="'+f((o=(o=t.key||(e!=null?e.key:e))!=null?o:a,typeof o===u?o.call(e,{name:"key",hash:{},data:r}):o))+'" ';return s=(t.eq||e&&e.eq||a).call(e,e!=null?e.key:e,i[1]!=null?i[1].period:i[1],{name:"eq",hash:{},fn:this.program(5,r,i),inverse:this.noop,data:r}),s!=null&&(l+=s),l+">&Delta; "+f((o=(o=t.text||(e!=null?e.text:e))!=null?o:a,typeof o===u?o.call(e,{name:"text",hash:{},data:r}):o))+"</option>\n"},9:function(e,t,n,r){var i,s="function",o=t.helperMissing,u=this.escapeExpression;return"    &Delta; "+u((i=(i=t.periodText||(e!=null?e.periodText:e))!=null?i:o,typeof i===s?i.call(e,{name:"periodText",hash:{},data:r}):i))+"\n"},11:function(e,t,n,r,i){var s,o,u,a="function",f=t.helperMissing,l=t.blockHelperMissing,c='    <select class="input-small" name="operator">\n';return s=(o=(o=t.operators||(e!=null?e.operators:e))!=null?o:f,u={name:"operators",hash:{},fn:this.program(12,r,i),inverse:this.noop,data:r},typeof o===a?o.call(e,u):o),t.operators||(s=l.call(e,s,u)),s!=null&&(c+=s),c+"    </select>\n"},12:function(e,t,n,r,i){var s,o=this.lambda,u=this.escapeExpression,a=t.helperMissing,f='        <option value="'+u(o(e,e))+'" ';return s=(t.eq||e&&e.eq||a).call(e,e,i[1]!=null?i[1].op:i[1],{name:"eq",hash:{},fn:this.program(5,r,i),inverse:this.noop,data:r}),s!=null&&(f+=s),f+">"+u((t.t||e&&e.t||a).call(e,"quality_gates.operator",e,{name:"t",hash:{},data:r}))+"</option>\n"},14:function(e,t,n,r){var i=t.helperMissing,s=this.escapeExpression;return"    "+s((t.t||e&&e.t||i).call(e,"quality_gates.operator",e!=null?e.op:e,{name:"t",hash:{},data:r}))+"\n"},16:function(e,t,n,r){var i,s=this.lambda,o=this.escapeExpression;return'    <input name="warning" type="text" class="input-tiny text-middle" data-type="'+o(s((i=e!=null?e.metric:e)!=null?i.type:i,e))+'"\n           placeholder="'+o(s((i=e!=null?e.metric:e)!=null?i.placeholder:i,e))+'">\n'},18:function(e,t,n,r){var i,s=t.helperMissing,o=this.escapeExpression;return"    "+o((t.formatMeasure||e&&e.formatMeasure||s).call(e,e!=null?e.warning:e,(i=e!=null?e.metric:e)!=null?i.type:i,{name:"formatMeasure",hash:{},data:r}))+"\n"},20:function(e,t,n,r){var i,s=this.lambda,o=this.escapeExpression;return'    <input name="error" type="text" class="input-tiny text-middle" data-type="'+o(s((i=e!=null?e.metric:e)!=null?i.type:i,e))+'"\n           placeholder="'+o(s((i=e!=null?e.metric:e)!=null?i.placeholder:i,e))+'">\n'},22:function(e,t,n,r){var i,s=t.helperMissing,o=this.escapeExpression;return"    "+o((t.formatMeasure||e&&e.formatMeasure||s).call(e,e!=null?e.error:e,(i=e!=null?e.metric:e)!=null?i.type:i,{name:"formatMeasure",hash:{},data:r}))+"\n"},24:function(e,t,n,r){var i,s='  <td class="thin text-middle nowrap">\n';return i=t["if"].call(e,e!=null?e.id:e,{name:"if",hash:{},fn:this.program(25,r),inverse:this.program(27,r),data:r}),i!=null&&(s+=i),s+"  </td>\n"},25:function(e,t,n,r){var i=t.helperMissing,s=this.escapeExpression;return'      <div class="button-group">\n        <button class="update-condition" disabled>'+s((t.t||e&&e.t||i).call(e,"update_verb",{name:"t",hash:{},data:r}))+'</button>\n        <button class="button-red delete-condition">'+s((t.t||e&&e.t||i).call(e,"delete",{name:"t",hash:{},data:r}))+"</button>\n      </div>\n"},27:function(e,t,n,r){var i=t.helperMissing,s=this.escapeExpression;return'      <div class="button-group">\n        <button class="add-condition">'+s((t.t||e&&e.t||i).call(e,"add_verb",{name:"t",hash:{},data:r}))+'</button>\n        <a class="action cancel-add-condition">'+s((t.t||e&&e.t||i).call(e,"cancel",{name:"t",hash:{},data:r}))+"</a>\n      </div>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r,i){var s,o=this.lambda,u=this.escapeExpression,a=t.helperMissing,f='<td class="text-middle nowrap">\n  '+u(o((s=e!=null?e.metric:e)!=null?s.name:s,e))+"\n";return s=t["if"].call(e,(s=e!=null?e.metric:e)!=null?s.hidden:s,{name:"if",hash:{},fn:this.program(1,r,i),inverse:this.noop,data:r}),s!=null&&(f+=s),f+='</td>\n\n<td class="thin text-middle nowrap">\n',s=t["if"].call(e,e!=null?e.canEdit:e,{name:"if",hash:{},fn:this.program(3,r,i),inverse:this.program(9,r,i),data:r}),s!=null&&(f+=s),f+='</td>\n\n<td class="thin text-middle nowrap">\n',s=t["if"].call(e,e!=null?e.canEdit:e,{name:"if",hash:{},fn:this.program(11,r,i),inverse:this.program(14,r,i),data:r}),s!=null&&(f+=s),f+='</td>\n\n<td class="thin text-middle nowrap">\n  <i class="icon-alert-warn" title="'+u((t.t||e&&e.t||a).call(e,"quality_gates.warning_tooltip",{name:"t",hash:{},data:r}))+'"></i>\n',s=t["if"].call(e,e!=null?e.canEdit:e,{name:"if",hash:{},fn:this.program(16,r,i),inverse:this.program(18,r,i),data:r}),s!=null&&(f+=s),f+='</td>\n\n<td class="thin text-middle nowrap">\n  <i class="icon-alert-error" title="'+u((t.t||e&&e.t||a).call(e,"quality_gates.error_tooltip",{name:"t",hash:{},data:r}))+'"></i>\n',s=t["if"].call(e,e!=null?e.canEdit:e,{name:"if",hash:{},fn:this.program(20,r,i),inverse:this.program(22,r,i),data:r}),s!=null&&(f+=s),f+="</td>\n\n",s=t["if"].call(e,e!=null?e.canEdit:e,{name:"if",hash:{},fn:this.program(24,r,i),inverse:this.noop,data:r}),s!=null&&(f+=s),f},useData:!0,useDepths:!0}),this.Templates["quality-gate-detail-conditions-empty"]=Handlebars.template({1:function(e,t,n,r){return"6"},3:function(e,t,n,r){return"5"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){var i,s=t.helperMissing,o=this.escapeExpression,u='<td colspan="';return i=t["if"].call(e,e!=null?e.canEdit:e,{name:"if",hash:{},fn:this.program(1,r),inverse:this.program(3,r),data:r}),i!=null&&(u+=i),u+'">\n  '+o((t.t||e&&e.t||s).call(e,"quality_gates.no_conditions",{name:"t",hash:{},data:r}))+"\n</td>\n"},useData:!0}),this.Templates["quality-gate-detail-conditions"]=Handlebars.template({1:function(e,t,n,r){var i,s=t.helperMissing,o=this.escapeExpression,u='  <form class="big-spacer-top spacer-bottom">\n    <label for="quality-gate-new-condition-metric" class="text-middle">'+o((t.t||e&&e.t||s).call(e,"quality_gates.add_condition",{name:"t",hash:{},data:r}))+'</label>\n    <select id="quality-gate-new-condition-metric" class="text-middle">\n      <option></option>\n';return i=t.each.call(e,e!=null?e.metricGroups:e,{name:"each",hash:{},fn:this.program(2,r),inverse:this.noop,data:r}),i!=null&&(u+=i),u+"    </select>\n  </form>\n"},2:function(e,t,n,r){var i,s,o="function",u=t.helperMissing,a=this.escapeExpression,f='        <optgroup label="'+a((s=(s=t.domain||(e!=null?e.domain:e))!=null?s:u,typeof s===o?s.call(e,{name:"domain",hash:{},data:r}):s))+'">\n';return i=t.each.call(e,e!=null?e.metrics:e,{name:"each",hash:{},fn:this.program(3,r),inverse:this.noop,data:r}),i!=null&&(f+=i),f+"\n        </optgroup>\n"},3:function(e,t,n,r){var i,s="function",o=t.helperMissing,u=this.escapeExpression;return'            <option value="'+u((i=(i=t.key||(e!=null?e.key:e))!=null?i:o,typeof i===s?i.call(e,{name:"key",hash:{},data:r}):i))+'">'+u((i=(i=t.name||(e!=null?e.name:e))!=null?i:o,typeof i===s?i.call(e,{name:"name",hash:{},data:r}):i))+"</option>"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){var i,s=t.helperMissing,o=this.escapeExpression,u='<h3 class="spacer-bottom">'+o((t.t||e&&e.t||s).call(e,"quality_gates.conditions",{name:"t",hash:{},data:r}))+'</h3>\n\n<div class="alert alert-info">\n  <div>\n    '+o((t.t||e&&e.t||s).call(e,"quality_gates.introduction",{name:"t",hash:{},data:r}))+'\n    <a class="js-show-more pull-right spacer-left">'+o((t.t||e&&e.t||s).call(e,"more",{name:"t",hash:{},data:r}))+'&nbsp;<i class="icon-dropdown"></i></a>\n  </div>\n  <div class="js-more spacer-top hidden">\n    '+o((t.t||e&&e.t||s).call(e,"quality_gates.health_icons",{name:"t",hash:{},data:r}))+'\n    <ul>\n      <li class="little-spacer-top">\n        <i class="icon-alert-ok"></i> '+o((t.t||e&&e.t||s).call(e,"alerts.notes.ok",{name:"t",hash:{},data:r}))+'\n      </li>\n      <li class="little-spacer-top">\n        <i class="icon-alert-warn"></i> '+o((t.t||e&&e.t||s).call(e,"alerts.notes.warn",{name:"t",hash:{},data:r}))+'\n      </li>\n      <li class="little-spacer-top">\n        <i class="icon-alert-error"></i> '+o((t.t||e&&e.t||s).call(e,"alerts.notes.error",{name:"t",hash:{},data:r}))+"\n      </li>\n    </ul>\n  </div>\n</div>\n\n";return i=t["if"].call(e,e!=null?e.canEdit:e,{name:"if",hash:{},fn:this.program(1,r),inverse:this.noop,data:r}),i!=null&&(u+=i),u+'\n<table class="js-conditions data zebra width-100"></table>\n'},useData:!0}),this.Templates["quality-gate-detail-header"]=Handlebars.template({1:function(e,t,n,r){var i,s=t.helperMissing,o=this.escapeExpression,u='  <div class="search-navigator-header-actions">\n    <div class="button-group">\n      <button id="quality-gate-rename">'+o((t.t||e&&e.t||s).call(e,"rename",{name:"t",hash:{},data:r}))+'</button>\n      <button id="quality-gate-copy">'+o((t.t||e&&e.t||s).call(e,"copy",{name:"t",hash:{},data:r}))+'</button>\n      <button id="quality-gate-toggle-default">\n        ';return i=t["if"].call(e,e!=null?e.isDefault:e,{name:"if",hash:{},fn:this.program(2,r),inverse:this.program(4,r),data:r}),i!=null&&(u+=i),u+'\n      </button>\n      <button id="quality-gate-delete" class="button-red">'+o((t.t||e&&e.t||s).call(e,"delete",{name:"t",hash:{},data:r}))+"</button>\n    </div>\n  </div>\n"},2:function(e,t,n,r){var i=t.helperMissing,s=this.escapeExpression;return s((t.t||e&&e.t||i).call(e,"unset_as_default",{name:"t",hash:{},data:r}))},4:function(e,t,n,r){var i=t.helperMissing,s=this.escapeExpression;return s((t.t||e&&e.t||i).call(e,"set_as_default",{name:"t",hash:{},data:r}))},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){var i,s,o="function",u=t.helperMissing,a=this.escapeExpression,f='<h2 class="search-navigator-header-component">'+a((s=(s=t.name||(e!=null?e.name:e))!=null?s:u,typeof s===o?s.call(e,{name:"name",hash:{},data:r}):s))+"</h2>\n\n";return i=t["if"].call(e,e!=null?e.canEdit:e,{name:"if",hash:{},fn:this.program(1,r),inverse:this.noop,data:r}),i!=null&&(f+=i),f},useData:!0}),this.Templates["quality-gate-detail-projects"]=Handlebars.template({1:function(e,t,n,r){var i,s='  <p class="quality-gate-default-message">\n';return i=t["if"].call(e,e!=null?e.canEdit:e,{name:"if",hash:{},fn:this.program(2,r),inverse:this.program(4,r),data:r}),i!=null&&(s+=i),s+"  </p>\n"},2:function(e,t,n,r){var i=t.helperMissing,s=this.escapeExpression;return"    "+s((t.t||e&&e.t||i).call(e,"quality_gates.projects_for_default.edit",{name:"t",hash:{},data:r}))+"\n"},4:function(e,t,n,r){var i=t.helperMissing,s=this.escapeExpression;return"    "+s((t.t||e&&e.t||i).call(e,"quality_gates.projects_for_default",{name:"t",hash:{},data:r}))+"\n"},6:function(e,t,n,r){return'  <div id="select-list-projects"></div>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){var i,s=t.helperMissing,o=this.escapeExpression,u='<div class="quality-gate-section-name">'+o((t.t||e&&e.t||s).call(e,"quality_gates.projects",{name:"t",hash:{},data:r}))+"</div>\n\n";return i=t["if"].call(e,e!=null?e.isDefault:e,{name:"if",hash:{},fn:this.program(1,r),inverse:this.program(6,r),data:r}),i!=null&&(u+=i),u},useData:!0}),this.Templates["quality-gate-detail"]=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){return'<div id="quality-gate-conditions" class="quality-gate-section"></div>\n<div id="quality-gate-projects" class="quality-gate-section"></div>'},useData:!0}),this.Templates["quality-gate-form"]=Handlebars.template({1:function(e,t,n,r){var i=t.helperMissing,s=this.escapeExpression;return s((t.t||e&&e.t||i).call(e,"save",{name:"t",hash:{},data:r}))},3:function(e,t,n,r){var i=t.helperMissing,s=this.escapeExpression;return s((t.t||e&&e.t||i).call(e,"copy",{name:"t",hash:{},data:r}))},5:function(e,t,n,r){var i=t.helperMissing,s=this.escapeExpression;return s((t.t||e&&e.t||i).call(e,"create",{name:"t",hash:{},data:r}))},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){var i,s,o=t.helperMissing,u=this.escapeExpression,a="function",f='<form id="quality-gate-form">\n  <div class="modal-head">\n    <h2>'+u((t.t||e&&e.t||o).call(e,"quality_gates",e!=null?e.method:e,{name:"t",hash:{},data:r}))+'</h2>\n  </div>\n  <div class="modal-body">\n    <div class="js-modal-messages"></div>\n    <div class="modal-field">\n      <label for="quality-gate-form-name">'+u((t.t||e&&e.t||o).call(e,"name",{name:"t",hash:{},data:r}))+' <em class="mandatory">*</em></label>\n      <input id="quality-gate-form-name" type="text" size="50" maxlength="100" value="'+u((s=(s=t.name||(e!=null?e.name:e))!=null?s:o,typeof s===a?s.call(e,{name:"name",hash:{},data:r}):s))+'" required>\n    </div>\n  </div>\n  <div class="modal-foot">\n    <button id="quality-gate-form-submit">\n      ';return i=(t.eq||e&&e.eq||o).call(e,e!=null?e.method:e,"rename",{name:"eq",hash:{},fn:this.program(1,r),inverse:this.noop,data:r}),i!=null&&(f+=i),f+="\n      ",i=(t.eq||e&&e.eq||o).call(e,e!=null?e.method:e,"copy",{name:"eq",hash:{},fn:this.program(3,r),inverse:this.noop,data:r}),i!=null&&(f+=i),f+="\n      ",i=(t.eq||e&&e.eq||o).call(e,e!=null?e.method:e,"create",{name:"eq",hash:{},fn:this.program(5,r),inverse:this.noop,data:r}),i!=null&&(f+=i),f+'\n    </button>\n    <a id="quality-gate-form-cancel" href="#" class="js-modal-close">'+u((t.t||e&&e.t||o).call(e,"cancel",{name:"t",hash:{},data:r}))+"</a>\n  </div>\n</form>\n"},useData:!0}),this.Templates["quality-gates-condition-delete"]=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){var i,s=t.helperMissing,o=this.escapeExpression;return'<form id="delete-condition-form">\n  <div class="modal-head">\n    <h2>'+o((t.t||e&&e.t||s).call(e,"quality_gates.delete_condition",{name:"t",hash:{},data:r}))+'</h2>\n  </div>\n  <div class="modal-body">\n    <div class="js-modal-messages"></div>\n    '+o((t.tp||e&&e.tp||s).call(e,"quality_gates.delete_condition.confirm.message",(i=e!=null?e.metric:e)!=null?i.name:i,{name:"tp",hash:{},data:r}))+'\n  </div>\n  <div class="modal-foot">\n    <button id="delete-condition-submit">'+o((t.t||e&&e.t||s).call(e,"delete",{name:"t",hash:{},data:r}))+'</button>\n    <a href="#" class="js-modal-close" id="delete-condition-cancel">'+o((t.t||e&&e.t||s).call(e,"cancel",{name:"t",hash:{},data:r}))+"</a>\n  </div>\n</form>\n"},useData:!0}),this.Templates["quality-gates-delete"]=Handlebars.template({1:function(e,t,n,r){var i=t.helperMissing,s=this.escapeExpression;return"      "+s((t.tp||e&&e.tp||i).call(e,"quality_gates.delete.confirm.default",e!=null?e.name:e,{name:"tp",hash:{},data:r}))+"\n"},3:function(e,t,n,r){var i=t.helperMissing,s=this.escapeExpression;return"      "+s((t.tp||e&&e.tp||i).call(e,"quality_gates.delete.confirm.message",e!=null?e.name:e,{name:"tp",hash:{},data:r}))+"\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){var i,s=t.helperMissing,o=this.escapeExpression,u='<form id="delete-gate-form">\n  <div class="modal-head">\n    <h2>'+o((t.t||e&&e.t||s).call(e,"quality_gates.delete",{name:"t",hash:{},data:r}))+'</h2>\n  </div>\n  <div class="modal-body">\n    <div class="js-modal-messages"></div>\n';return i=t["if"].call(e,e!=null?e.isDefault:e,{name:"if",hash:{},fn:this.program(1,r),inverse:this.program(3,r),data:r}),i!=null&&(u+=i),u+'  </div>\n  <div class="modal-foot">\n    <button id="delete-gate-submit">'+o((t.t||e&&e.t||s).call(e,"delete",{name:"t",hash:{},data:r}))+'</button>\n    <a href="#" class="js-modal-close" id="delete-gate-cancel">'+o((t.t||e&&e.t||s).call(e,"cancel",{name:"t",hash:{},data:r}))+"</a>\n  </div>\n</form>\n"},useData:!0}),this.Templates["quality-gates-gate"]=Handlebars.template({1:function(e,t,n,r){var i=t.helperMissing,s=this.escapeExpression;return'        <span class="badge pull-right">'+s((t.t||e&&e.t||i).call(e,"default",{name:"t",hash:{},data:r}))+"</span>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){var i,s,o="function",u=t.helperMissing,a=this.escapeExpression,f='<table>\n  <tr>\n    <td class="text-top">'+a((s=(s=t.name||(e!=null?e.name:e))!=null?s:u,typeof s===o?s.call(e,{name:"name",hash:{},data:r}):s))+'</td>\n    <td class="text-top thin nowrap spacer-left">\n';return i=t["if"].call(e,e!=null?e.isDefault:e,{name:"if",hash:{},fn:this.program(1,r),inverse:this.noop,data:r}),i!=null&&(f+=i),f+"    </td>\n  </tr>\n</table>\n\n\n\n"},useData:!0}),this.Templates["quality-gates-gates"]=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){return'<div class="js-list"></div>\n'},useData:!0}),this.Templates["quality-gates-intro"]=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){return'<p class="spacer-bottom">Quality Gates are collections of simple boolean thresholds set on project measures. A project\n  must pass each of the thresholds in order to pass the Quality Gate as a whole.</p>\n<p>It is possible to set a default Quality Gate, which will be applied to all projects not explicitly assigned to some\n  other gate.</p>\n'},useData:!0}),this.Templates["quality-gates-layout"]=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){return'<div class="search-navigator sticky search-navigator-extended-view">\n  <div class="search-navigator-side search-navigator-side-light">\n    <div class="search-navigator-filters"></div>\n    <div class="quality-gates-results panel"></div>\n  </div>\n\n  <div class="search-navigator-workspace">\n    <div class="search-navigator-workspace-header"></div>\n    <div class="search-navigator-workspace-details"></div>\n  </div>\n</div>\n'},useData:!0}),define("apps/quality-gates/templates",function(){}),define("apps/quality-gates/gate-view",["exports","module","backbone.marionette","./templates"],function(e,t,n,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}var s=i(n);t.exports=s["default"].ItemView.extend({tagName:"a",className:"list-group-item",template:Templates["quality-gates-gate"],modelEvents:{change:"render"},events:{click:"onClick"},onRender:function(){this.$el.toggleClass("active",this.options.highlighted),this.$el.attr("data-id",this.model.id)},onClick:function(t){t.preventDefault(),this.model.trigger("select",this.model)}})}),define("apps/quality-gates/gates-view",["exports","module","backbone.marionette","./gate-view","./templates"],function(e,t,n,r,i){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}var o=s(n),u=s(r);t.exports=o["default"].CompositeView.extend({className:"list-group",template:Templates["quality-gates-gates"],childView:u["default"],childViewContainer:".js-list",childViewOptions:function(t){return{collectionView:this,highlighted:t.id===this.highlighted}},highlight:function(t){this.highlighted=t,this.render()}})}),define("components/common/modals",["exports","module","jquery","backbone.marionette"],function(e,t,n,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}var s=i(n),o=i(r),u="modal";t.exports=o["default"].ItemView.extend({className:"modal",overlayClassName:"modal-overlay",htmlClassName:"modal-open",events:function(){return{"click .js-modal-close":"onCloseClick"}},onRender:function(){var t=this;this.$el.detach().appendTo((0,s["default"])("body")),(0,s["default"])("html").addClass(this.htmlClassName),this.renderOverlay(),this.keyScope=key.getScope(),key.setScope("modal"),key("escape","modal",function(){return t.destroy(),!1}),this.show(),!this.options.large||this.$el.addClass("modal-large")},show:function(){var t=this;setTimeout(function(){t.$el.addClass("in"),(0,s["default"])("."+t.overlayClassName).addClass("in")},0)},onDestroy:function(){(0,s["default"])("html").removeClass(this.htmlClassName),this.removeOverlay(),key.deleteScope("modal"),key.setScope(this.keyScope)},onCloseClick:function(t){t.preventDefault(),this.destroy()},renderOverlay:function(){var t=(0,s["default"])("."+this.overlayClassName);t.length===0&&(0,s["default"])('<div class="'+this.overlayClassName+'"></div>').appendTo((0,s["default"])("body"))},removeOverlay:function(){(0,s["default"])("."+this.overlayClassName).remove()},attachCloseEvents:function(){var t=this;(0,s["default"])("body").on("click."+u,function(){(0,s["default"])("body").off("click."+u),t.destroy()})}})}),define("components/common/modal-form",["exports","module","underscore","components/common/modals"],function(e,t,n,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}var s=i(n),o=i(r);t.exports=o["default"].extend({ui:function(){return{messagesContainer:".js-modal-messages"}},events:function(){return s["default"].extend(o["default"].prototype.events.apply(this,arguments),{"keydown input,textarea,select":"onInputKeydown","submit form":"onFormSubmit"})},onRender:function(){o["default"].prototype.onRender.apply(this,arguments);var t=this;setTimeout(function(){t.$(":tabbable").first().focus()},0)},onInputKeydown:function(t){t.keyCode===27&&this.destroy()},onFormSubmit:function(t){t.preventDefault()},showErrors:function(t,n){var r=this.ui.messagesContainer.empty();s["default"].isArray(t)&&t.forEach(function(e){var t='<div class="alert alert-danger">'+e.msg+"</div>";r.append(t)}),s["default"].isArray(n)&&n.forEach(function(e){var t='<div class="alert alert-warning">'+e.msg+"</div>";r.append(t)}),this.ui.messagesContainer.scrollParent().scrollTop(0)},disableForm:function(){var t=this.$("form");this.disabledFields=t.find(":input:not(:disabled)"),this.disabledFields.prop("disabled",!0)},enableForm:function(){this.disabledFields!=null&&this.disabledFields.prop("disabled",!1)}})}),define("apps/quality-gates/form-view",["exports","module","underscore","backbone","components/common/modal-form","./gate","./templates"],function(e,t,n,r,i,s,o){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}var a=u(n),f=u(r),l=u(i),c=u(s);t.exports=l["default"].extend({template:Templates["quality-gate-form"],onFormSubmit:function(){l["default"].prototype.onFormSubmit.apply(this,arguments),this.disableForm(),this.prepareRequest()},sendRequest:function(t){var n=this,r=a["default"].defaults(t||{},{type:"POST",statusCode:{400:null}});return f["default"].ajax(r).done(function(){n.destroy()}).fail(function(e){n.enableForm(),n.showErrors(e.responseJSON.errors,e.responseJSON.warnings)})},addGate:function(t){var n=new c["default"](t);return this.collection.add(n,{merge:!0}),n},serializeData:function(){return a["default"].extend(l["default"].prototype.serializeData.apply(this,arguments),{method:this.method})}})}),define("apps/quality-gates/create-view",["exports","module","./form-view"],function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var i=r(n);t.exports=i["default"].extend({method:"create",prepareRequest:function(){var t=this,n=baseUrl+"/api/qualitygates/create",r=this.$("#quality-gate-form-name").val(),i={url:n,data:{name:r}};return this.sendRequest(i).done(function(e){var n=t.addGate(e);n.trigger("select",n)})}})}),define("apps/quality-gates/actions-view",["exports","module","underscore","backbone.marionette","./create-view","./templates"],function(e,t,n,r,i,s){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}var u=o(n),a=o(r),f=o(i);t.exports=a["default"].ItemView.extend({template:Templates["quality-gate-actions"],events:{"click #quality-gate-add":"add"},add:function(t){t.preventDefault(),(new f["default"]({collection:this.collection})).render()},serializeData:function(){return u["default"].extend(a["default"].ItemView.prototype.serializeData.apply(this,arguments),{canEdit:this.options.canEdit})}})}),define("apps/quality-gates/router",["exports","module","backbone"],function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var i=r(n);t.exports=i["default"].Router.extend({routes:{"":"index","show/:id":"show"},initialize:function(t){this.app=t.app},index:function(){this.app.controller.index()},show:function(t){this.app.controller.show(t)}})}),define("apps/quality-gates/intro-view",["exports","module","backbone.marionette","./templates"],function(e,t,n,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}var s=i(n);t.exports=s["default"].ItemView.extend({template:Templates["quality-gates-intro"]})}),define("apps/quality-gates/layout",["exports","module","backbone.marionette","./intro-view","./templates"],function(e,t,n,r,i){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}var o=s(n),u=s(r);t.exports=o["default"].LayoutView.extend({template:Templates["quality-gates-layout"],regions:{headerRegion:".search-navigator-workspace-header",actionsRegion:".search-navigator-filters",resultsRegion:".quality-gates-results",detailsRegion:".search-navigator-workspace-details"},onRender:function(){var t=this.$(".search-navigator").offset().top;this.$(".search-navigator-workspace-header").css({top:t}),this.$(".search-navigator-side").css({top:t}).isolatedScroll(),this.renderIntro()},renderIntro:function(){this.detailsRegion.show(new u["default"])}})}),define("apps/quality-gates/condition",["exports","module","backbone"],function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var i=r(n);t.exports=i["default"].Model.extend({defaults:{period:0},url:function(){return baseUrl+"/api/qualitygates"},createUrl:function(){return this.url()+"/create_condition"},updateUrl:function(){return this.url()+"/update_condition"},deleteUrl:function(){return this.url()+"/delete_condition"},sync:function(t,n,r){var s=r||{};return s.type="POST",t==="create"&&(s.url=this.createUrl(),s.data=n.toJSON()),t==="update"&&(s.url=this.updateUrl(),s.data=n.toJSON()),t==="delete"&&(s.url=this.deleteUrl(),s.data={id:n.id}),s.data.period==="0"&&delete s.data.period,i["default"].ajax(s)}})}),define("apps/quality-gates/conditions",["exports","module","backbone","./condition"],function(e,t,n,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}var s=i(n),o=i(r);t.exports=s["default"].Collection.extend({model:o["default"]})}),define("apps/quality-gates/gate-conditions-delete-view",["exports","module","underscore","backbone.marionette","components/common/modal-form","./templates"],function(e,t,n,r,i,s){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}var u=o(n),a=o(r),f=o(i);t.exports=f["default"].extend({template:Templates["quality-gates-condition-delete"],onFormSubmit:function(){f["default"].prototype.onFormSubmit.apply(this,arguments),this.disableForm(),this.sendRequest()},sendRequest:function(){var t=this,n={statusCode:{400:null}};return this.model.destroy(n).done(function(){t.destroy()}).fail(function(e){t.enableForm(),t.showErrors(e.responseJSON.errors,e.responseJSON.warnings)})},serializeData:function(){return u["default"].extend(a["default"].ItemView.prototype.serializeData.apply(this,arguments),{metric:this.options.metric})}})}),define("apps/quality-gates/gate-condition-view",["exports","module","underscore","backbone.marionette","./gate-conditions-delete-view","./templates"],function(e,n,r,i,s,o){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}var a=u(r),f=u(i),l=u(s);n.exports=f["default"].ItemView.extend({tagName:"tr",template:Templates["quality-gate-detail-condition"],modelEvents:{change:"render"},ui:{periodSelect:"[name=period]",operatorSelect:"[name=operator]",warningInput:"[name=warning]",errorInput:"[name=error]",actionsBox:".quality-gate-condition-actions",updateButton:".update-condition",deleteButton:".delete-condition"},events:{"click @ui.updateButton":"saveCondition","click @ui.deleteButton":"deleteCondition","click .add-condition":"saveCondition","click .cancel-add-condition":"cancelAddCondition","keyup :input":"enableUpdate","change :input":"enableUpdate"},onRender:function(){this.ui.warningInput.val(this.model.get("warning")),this.ui.errorInput.val(this.model.get("error")),this.ui.periodSelect.select2({allowClear:!1,minimumResultsForSearch:999}),this.ui.operatorSelect.select2({allowClear:!1,minimumResultsForSearch:999}),this.model.isNew()&&this.ui.periodSelect.select2("open")},saveCondition:function(){var t={gateId:this.model.isNew()?this.options.gate.id:void 0,period:this.ui.periodSelect.val(),op:this.ui.operatorSelect.val(),warning:this.ui.warningInput.val(),error:this.ui.errorInput.val()};this.model.save(t,{wait:!0})},deleteCondition:function(){(new l["default"]({model:this.model,metric:this.getMetric()})).render()},cancelAddCondition:function(){this.destroy()},enableUpdate:function(){this.ui.updateButton.prop("disabled",!1)},getMetric:function(){var t=this.model.get("metric");return a["default"].findWhere(this.options.metrics,{key:t})},isDiffMetric:function(){var t=this.model.get("metric");return t.indexOf("new_")===0},serializeData:function(){var n=a["default"].findWhere(this.options.periods,{key:this.model.get("period")});return a["default"].extend(f["default"].ItemView.prototype.serializeData.apply(this,arguments),{canEdit:this.options.canEdit,periods:this.options.periods,periodText:n?n.text:t("value"),metric:this.getMetric(),isDiffMetric:this.isDiffMetric()})}})}),define("apps/quality-gates/gate-conditions-empty-view",["exports","module","underscore","backbone.marionette","./templates"],function(e,t,n,r,i){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}var o=s(n),u=s(r);t.exports=u["default"].ItemView.extend({tagName:"tr",template:Templates["quality-gate-detail-conditions-empty"],serializeData:function(){return o["default"].extend(u["default"].ItemView.prototype.serializeData.apply(this,arguments),{canEdit:this.options.canEdit})}})}),define("apps/quality-gates/gate-conditions-view",["exports","module","underscore","backbone.marionette","./condition","./gate-condition-view","./gate-conditions-empty-view","./templates"],function(e,n,r,i,s,o,u,a){"use strict";function f(e){return e&&e.__esModule?e:{"default":e}}var l=f(r),c=f(i),h=f(s),p=f(o),d=f(u);n.exports=c["default"].CompositeView.extend({template:Templates["quality-gate-detail-conditions"],childView:p["default"],emptyView:d["default"],childViewContainer:".js-conditions",ui:{metricSelect:"#quality-gate-new-condition-metric"},events:{"click .js-show-more":"showMoreIntroduction","change @ui.metricSelect":"addCondition"},childViewOptions:function(){return{canEdit:this.options.canEdit,gate:this.model,collectionView:this,metrics:this.options.metrics,periods:this.options.periods}},onRender:function(){this.ui.metricSelect.select2({allowClear:!1,width:"250px",placeholder:t("alerts.select_metric")})},showMoreIntroduction:function(){this.$(".js-show-more").addClass("hidden"),this.$(".js-more").removeClass("hidden")},addCondition:function(){var t=this.ui.metricSelect.val();this.ui.metricSelect.select2("val","");var n=new h["default"]({metric:t});this.collection.add(n)},groupedMetrics:function(){var t=this.options.metrics.filter(function(e){return!e.hidden});return t=l["default"].groupBy(t,"domain"),t=l["default"].map(t,function(e,t){return{domain:t,metrics:l["default"].sortBy(e,"short_name")}}),l["default"].sortBy(t,"domain")},serializeData:function(){return l["default"].extend(c["default"].CompositeView.prototype.serializeData.apply(this,arguments),{canEdit:this.options.canEdit,metricGroups:this.groupedMetrics()})}})}),define("components/common/select-list",["exports","jquery","underscore","backbone"],function(e,t,n,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}var s=i(t),o=i(n),u=i(r),a=null,f=u["default"].Collection.extend({initialize:function(t){this.options=t},parse:function(t){return this.options.parse.call(this,t)},fetch:function(t){var n=s["default"].extend({page:1,pageSize:100},t.data||{}),r=s["default"].extend({},t,{data:n});this.settings={url:r.url,data:n},u["default"].Collection.prototype.fetch.call(this,r)},fetchNextPage:function(t){if(this.more){var n=this.settings.data.page+1,r=s["default"].extend(this.settings,t);r.data.page=n,r.remove=!1,this.fetch(r)}else t.error()}}),l=u["default"].View.extend({tagName:"li",template:function(t){return'<input class="select-list-list-checkbox" type="checkbox"><div class="select-list-list-item">'+t+"</div>"},events:{"change .select-list-list-checkbox":"toggle"},initialize:function(t){this.listenTo(this.model,"change",this.render),this.settings=t.settings},render:function(){this.$el.html(this.template(this.settings.format(this.model.toJSON()))),this.$("input").prop("name",this.model.get("name")),this.$el.toggleClass("selected",this.model.get("selected")),this.$(".select-list-list-checkbox").prop("title",this.model.get("selected")?this.settings.tooltips.deselect:this.settings.tooltips.select).prop("checked",this.model.get("selected")),this.settings.readOnly&&this.$(".select-list-list-checkbox").prop("disabled",!0)},remove:function(t){if(t){var n=this;n.$el.addClass(this.model.get("selected")?"added":"removed"),setTimeout(function(){u["default"].View.prototype.remove.call(n,arguments)},500)}else u["default"].View.prototype.remove.call(this,arguments)},toggle:function(){var t=this.model.get("selected"),n=this,r=t?this.settings.deselectUrl:this.settings.selectUrl,i=s["default"].extend({},this.settings.extra||{});i[this.settings.selectParameter]=this.model.get(this.settings.selectParameterValue),n.$el.addClass("progress"),s["default"].ajax({url:r,type:"POST",data:i,statusCode:{400:null,401:null,403:null,500:null}}).done(function(){n.model.set("selected",!t)}).fail(function(e){n.render(),a(e)}).always(function(){n.$el.removeClass("progress")})}}),c=u["default"].View.extend({template:function(t){return'<div class="select-list-container"><div class="select-list-control"><div class="select-list-check-control"><a class="select-list-control-button" name="selected">'+t.selected+"</a>"+'<a class="select-list-control-button" name="deselected">'+t.deselected+"</a>"+'<a class="select-list-control-button" name="all">'+t.all+"</a>"+"</div>"+'<div class="select-list-search-control">'+'<form class="search-box">'+'<span class="search-box-submit button-clean"><i class="icon-search"></i></span>'+'<input class="search-box-input" type="search" name="q" placeholder="Search" maxlength="100" autocomplete="off">'+"</form>"+"</div>"+"</div>"+'<div class="select-list-list-container">'+'<ul class="select-list-list"></ul>'+"</div>"+"</div>"},events:{"click .select-list-control-button[name=selected]":"showSelected","click .select-list-control-button[name=deselected]":"showDeselected","click .select-list-control-button[name=all]":"showAll"},initialize:function(t){this.listenTo(this.collection,"add",this.renderListItem),this.listenTo(this.collection,"reset",this.renderList),this.listenTo(this.collection,"remove",this.removeModel),this.listenTo(this.collection,"change:selected",this.confirmFilter),this.settings=t.settings;var n=this;this.showFetchSpinner=function(){n.$listContainer.addClass("loading")},this.hideFetchSpinner=function(){n.$listContainer.removeClass("loading")};var r=function(){n.showFetchSpinner(),n.collection.fetchNextPage({success:function(){n.hideFetchSpinner()},error:function(){n.hideFetchSpinner()}})};this.onScroll=o["default"].throttle(r,1e3)},render:function(){var t=this,n=function(){t.search()};this.$el.html(this.template(this.settings.labels)).width(this.settings.width),this.$listContainer=this.$(".select-list-list-container"),this.settings.readOnly?this.$listContainer.addClass("select-list-list-container-readonly"):this.$listContainer.height(this.settings.height).css("overflow","auto").on("scroll",function(){t.scroll()}),this.$list=this.$(".select-list-list");var r=this.$(".select-list-search-control input").on("keyup",o["default"].debounce(n,250)).on("search",o["default"].debounce(n,250));this.settings.focusSearch&&setTimeout(function(){r.focus()},250),this.listItemViews=[],a=function(e){var n=window.t("default_error_message");e!=null&&e.responseJSON!=null&&e.responseJSON.errors!=null&&(n=o["default"].pluck(e.responseJSON.errors,"msg").join(". ")),t.$el.prevAll(".alert").remove(),(0,s["default"])("<div>").addClass("alert alert-danger").text(n).insertBefore(t.$el)},this.settings.readOnly&&this.$(".select-list-control").remove()},renderList:function(){this.listItemViews.forEach(function(e){e.remove()}),this.listItemViews=[],this.collection.length>0?this.collection.each(this.renderListItem,this):this.settings.readOnly&&this.renderEmpty(),this.$listContainer.scrollTop(0)},renderListItem:function(t){var n=new l({model:t,settings:this.settings});this.listItemViews.push(n),this.$list.append(n.el),n.render()},renderEmpty:function(){this.$list.append('<li class="empty-message">'+this.settings.labels.noResults+"</li>")},confirmFilter:function(t){this.currentFilter!=="all"&&this.collection.remove(t)},removeModel:function(t,n,r){this.listItemViews[r.index].remove(!0),this.listItemViews.splice(r.index,1)},filterBySelection:function(t){var n=this;t=this.currentFilter=t||this.currentFilter,t!=null&&(this.$(".select-list-check-control").toggleClass("disabled",!1),this.$(".select-list-search-control").toggleClass("disabled",!0),this.$(".select-list-search-control input").val(""),this.$(".select-list-control-button").removeClass("active").filter("[name="+t+"]").addClass("active"),this.showFetchSpinner(),this.collection.fetch({url:this.settings.searchUrl,reset:!0,data:{selected:t},success:function(){n.hideFetchSpinner()},error:a}))},showSelected:function(){this.filterBySelection("selected")},showDeselected:function(){this.filterBySelection("deselected")},showAll:function(){this.filterBySelection("all")},search:function(){var t=this.$(".select-list-search-control input").val(),n=t.length>0,r=this,i={};this.$(".select-list-check-control").toggleClass("disabled",n),this.$(".select-list-search-control").toggleClass("disabled",!n),n?(this.showFetchSpinner(),this.currentFilter="all",i[this.settings.queryParam]=t,i.selected="all",this.collection.fetch({url:this.settings.searchUrl,reset:!0,data:i,success:function(){r.hideFetchSpinner()},error:a})):this.filterBySelection()},searchByQuery:function(t){this.$(".select-list-search-control input").val(t),this.search()},clearSearch:function(){this.filterBySelection()},scroll:function(){var t=this.$listContainer.scrollTop()>=this.$list[0].scrollHeight-this.$listContainer.outerHeight();t&&this.collection.more&&this.onScroll()}});window.SelectList=function(e){return this.settings=s["default"].extend(window.SelectList.defaults,e),this.collection=new f({parse:this.settings.parse}),this.view=new c({el:this.settings.el,collection:this.collection,settings:this.settings}),this.view.render(),this.filter("selected"),this},window.SelectList.prototype.filter=function(e){return this.view.filterBySelection(e),this},window.SelectList.prototype.search=function(e){return this.view.searchByQuery(e),this},window.SelectList.defaults={width:"50%",height:400,readOnly:!1,focusSearch:!0,format:function(t){return t.value},parse:function(t){return this.more=t.more,t.results},queryParam:"query",labels:{selected:"Selected",deselected:"Deselected",all:"All",noResults:""},tooltips:{select:"Click this to select item",deselect:"Click this to deselect item"},errorMessage:"Something gone wrong, try to reload the page and try again."}}),define("apps/quality-gates/gate-projects-view",["exports","module","underscore","backbone.marionette","components/common/select-list","./templates"],function(e,n,r,i,s,o){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}var a=u(r),f=u(i);n.exports=f["default"].ItemView.extend({template:Templates["quality-gate-detail-projects"],onRender:function(){this.model.isDefault()||new window.SelectList({el:this.$("#select-list-projects"),width:"100%",readOnly:!this.options.canEdit,focusSearch:!1,format:function(t){return t.name},searchUrl:baseUrl+"/api/qualitygates/search?gateId="+this.model.id,selectUrl:baseUrl+"/api/qualitygates/select",deselectUrl:baseUrl+"/api/qualitygates/deselect",extra:{gateId:this.model.id},selectParameter:"projectId",selectParameterValue:"id",labels:{selected:t("quality_gates.projects.with"),deselected:t("quality_gates.projects.without"),all:t("quality_gates.projects.all"),noResults:t("quality_gates.projects.noResults")},tooltips:{select:t("quality_gates.projects.select_hint"),deselect:t("quality_gates.projects.deselect_hint")}})},serializeData:function(){return a["default"].extend(f["default"].ItemView.prototype.serializeData.apply(this,arguments),{canEdit:this.options.canEdit})}})}),define("apps/quality-gates/details-view",["exports","module","backbone.marionette","./conditions","./gate-conditions-view","./gate-projects-view","./templates"],function(e,t,n,r,i,s,o){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}var a=u(n),f=u(r),l=u(i),c=u(s);t.exports=a["default"].LayoutView.extend({template:Templates["quality-gate-detail"],regions:{conditionsRegion:"#quality-gate-conditions",projectsRegion:"#quality-gate-projects"},modelEvents:{change:"render"},onRender:function(){this.showConditions(),this.showProjects()},orderByName:function(t){var n=this.options.metrics;return _.sortBy(t,function(e){return _.findWhere(n,{key:e.metric}).name})},showConditions:function(){var t=new f["default"](this.orderByName(this.model.get("conditions"))),n=new l["default"]({canEdit:this.options.canEdit,collection:t,model:this.model,metrics:this.options.metrics,periods:this.options.periods});this.conditionsRegion.show(n)},showProjects:function(){var t=new c["default"]({canEdit:this.options.canEdit,model:this.model});this.projectsRegion.show(t)}})}),define("apps/quality-gates/rename-view",["exports","module","./form-view"],function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var i=r(n);t.exports=i["default"].extend({method:"rename",prepareRequest:function(){var t=this,n=baseUrl+"/api/qualitygates/rename",r=this.$("#quality-gate-form-name").val(),i={url:n,data:{id:this.model.id,name:r}};return this.sendRequest(i).done(function(e){t.model.set(e)})}})}),define("apps/quality-gates/copy-view",["exports","module","./form-view"],function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var i=r(n);t.exports=i["default"].extend({method:"copy",prepareRequest:function(){var t=this,n=baseUrl+"/api/qualitygates/copy",r=this.$("#quality-gate-form-name").val(),i={url:n,data:{id:this.model.id,name:r}};return this.sendRequest(i).done(function(e){var n=t.addGate(e);n.trigger("select",n)})}})}),define("apps/quality-gates/delete-view",["exports","module","components/common/modal-form","./templates"],function(e,t,n,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}var s=i(n);t.exports=s["default"].extend({template:Templates["quality-gates-delete"],onFormSubmit:function(){s["default"].prototype.onFormSubmit.apply(this,arguments),this.disableForm(),this.sendRequest()},sendRequest:function(){var t=this,n={statusCode:{400:null}};return this.model.destroy(n).done(function(){t.destroy()}).fail(function(e){t.enableForm(),t.showErrors(e.responseJSON.errors,e.responseJSON.warnings)})}})}),define("apps/quality-gates/header-view",["exports","module","underscore","backbone.marionette","./rename-view","./copy-view","./delete-view","./templates"],function(e,t,n,r,i,s,o,u){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}var f=a(n),l=a(r),c=a(i),h=a(s),p=a(o);t.exports=l["default"].ItemView.extend({template:Templates["quality-gate-detail-header"],modelEvents:{change:"render"},events:{"click #quality-gate-rename":"renameQualityGate","click #quality-gate-copy":"copyQualityGate","click #quality-gate-delete":"deleteQualityGate","click #quality-gate-toggle-default":"toggleDefault"},renameQualityGate:function(){(new c["default"]({model:this.model})).render()},copyQualityGate:function(){(new h["default"]({model:this.model,collection:this.model.collection})).render()},deleteQualityGate:function(){(new p["default"]({model:this.model})).render()},toggleDefault:function(){this.model.toggleDefault()},serializeData:function(){return f["default"].extend(l["default"].ItemView.prototype.serializeData.apply(this,arguments),{canEdit:this.options.canEdit})}})}),define("apps/quality-gates/controller",["exports","module","underscore","backbone.marionette","./details-view","./header-view"],function(e,t,n,r,i,s){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}var u=o(n),a=o(r),f=o(i),l=o(s);t.exports=a["default"].Controller.extend({initialize:function(t){this.app=t.app,this.canEdit=this.app.canEdit,this.listenTo(this.app.gates,"select",this.onSelect),this.listenTo(this.app.gates,"destroy",this.onDestroy)},index:function(){this.app.gates.fetch()},show:function(t){var n=this;this.app.gates.fetch().done(function(){var e=n.app.gates.get(t);e!=null&&e.trigger("select",e,{trigger:!1})})},onSelect:function(t,n){var r=this,i="show/"+t.id,s=u["default"].defaults(n||{},{trigger:!0});s.trigger&&this.app.router.navigate(i),this.app.gatesView.highlight(t.id),t.fetch().done(function(){var e=new l["default"]({model:t,canEdit:r.canEdit});r.app.layout.headerRegion.show(e);var n=new f["default"]({model:t,canEdit:r.canEdit,metrics:r.app.metrics,periods:r.app.periods});r.app.layout.detailsRegion.show(n)})},onDestroy:function(){this.app.router.navigate(""),this.app.layout.headerRegion.reset(),this.app.layout.detailsRegion.reset(),this.app.layout.renderIntro(),this.app.gatesView.highlight(null)}})}),define("apps/quality-gates/app",["exports","module","jquery","backbone","backbone.marionette","./gates","./gates-view","./actions-view","./router","./layout","./controller"],function(e,t,n,r,i,s,o,u,a,f,l){"use strict";function c(e){return e&&e.__esModule?e:{"default":e}}var h=c(n),p=c(r),d=c(i),v=c(s),m=c(o),g=c(u),y=c(a),b=c(f),w=c(l),E=new d["default"].Application,S=function(t){this.layout=new b["default"]({el:t.el}),this.layout.render(),(0,h["default"])("#footer").addClass("search-navigator-footer"),this.gates=new v["default"],this.controller=new w["default"]({app:this}),this.actionsView=new g["default"]({canEdit:this.canEdit,collection:this.gates}),this.layout.actionsRegion.show(this.actionsView),this.gatesView=new m["default"]({canEdit:this.canEdit,collection:this.gates}),this.layout.resultsRegion.show(this.gatesView),this.router=new y["default"]({app:this}),p["default"].history.start({pushState:!0,root:t.urlRoot})},x=h["default"].get(baseUrl+"/api/qualitygates/app").done(function(e){E.canEdit=e.edit,E.periods=e.periods,E.metrics=e.metrics});E.on("start",function(e){h["default"].when(window.requestMessages(),x).done(function(){S.call(E,e)})}),t.exports=E});